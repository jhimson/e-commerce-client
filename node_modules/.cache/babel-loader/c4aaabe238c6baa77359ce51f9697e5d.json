{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Development\\\\A-portfolio-projects\\\\e-commerce-practice\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Development\\\\A-portfolio-projects\\\\e-commerce-practice\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";/* eslint-disable camelcase */import Axios from'axios';import{userConstants}from'../constants/userConstants';var _require=require('uuidv4'),uuid=_require.uuid;var USER_LOGIN_REQUEST=userConstants.USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS=userConstants.USER_LOGIN_SUCCESS,USER_LOGIN_FAIL=userConstants.USER_LOGIN_FAIL,USER_LOGOUT=userConstants.USER_LOGOUT,USER_REGISTER_REQUEST=userConstants.USER_REGISTER_REQUEST,USER_REGISTER_SUCCESS=userConstants.USER_REGISTER_SUCCESS,USER_REGISTER_FAIL=userConstants.USER_REGISTER_FAIL,USER_REGISTER_RESET=userConstants.USER_REGISTER_RESET,USER_DETAILS_REQUEST=userConstants.USER_DETAILS_REQUEST,USER_DETAILS_SUCCESS=userConstants.USER_DETAILS_SUCCESS,USER_DETAILS_FAIL=userConstants.USER_DETAILS_FAIL,USER_DETAILS_REMOVE=userConstants.USER_DETAILS_REMOVE,USER_LIST_REQUEST=userConstants.USER_LIST_REQUEST,USER_LIST_SUCCESS=userConstants.USER_LIST_SUCCESS,USER_LIST_FAIL=userConstants.USER_LIST_FAIL,USER_DELETE_REQUEST=userConstants.USER_DELETE_REQUEST,USER_DELETE_SUCCESS=userConstants.USER_DELETE_SUCCESS,USER_DELETE_FAIL=userConstants.USER_DELETE_FAIL,USER_GET_REQUEST=userConstants.USER_GET_REQUEST,USER_GET_SUCCESS=userConstants.USER_GET_SUCCESS,USER_GET_FAIL=userConstants.USER_GET_FAIL,USER_GET_RESET=userConstants.USER_GET_RESET,USER_UPDATE_REQUEST=userConstants.USER_UPDATE_REQUEST,USER_UPDATE_SUCCESS=userConstants.USER_UPDATE_SUCCESS,USER_UPDATE_FAIL=userConstants.USER_UPDATE_FAIL,USER_UPDATE_RESET=userConstants.USER_UPDATE_RESET;export var login=function login(username,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$Axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Content-Type':'application/json'}};_context.prev=1;dispatch({type:USER_LOGIN_REQUEST});_context.next=5;return Axios.post('https://raboy-eshop.herokuapp.com/api/v1/users/login',{username:username,password:password},config);case 5:_yield$Axios$post=_context.sent;data=_yield$Axios$post.data;dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch({type:USER_LOGIN_FAIL,payload:_context.t0.response&&_context.t0.response.data.error.message?_context.t0.response.data.error.message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var logout=function logout(){return function(dispatch){localStorage.removeItem('userInfo');localStorage.removeItem('orderDetailsList');localStorage.removeItem('paymentMethod');localStorage.removeItem('shippingAddress');localStorage.removeItem('userDetails');dispatch({type:USER_LOGOUT});dispatch({type:USER_DETAILS_REMOVE});dispatch({type:USER_REGISTER_RESET});};};export var register=function register(email,firstname,lastname,username,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var user_id,config,_yield$Axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:user_id=uuid();config={headers:{'Content-Type':'application/json'}};_context2.prev=2;dispatch({type:USER_REGISTER_REQUEST});_context2.next=6;return Axios.post('https://raboy-eshop.herokuapp.com/api/v1/users',{user_id:user_id,email:email,firstname:firstname,lastname:lastname,username:username,password:password},config);case 6:_yield$Axios$post2=_context2.sent;data=_yield$Axios$post2.data;dispatch({type:USER_REGISTER_SUCCESS,payload:data});dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](2);dispatch({type:USER_REGISTER_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.error.message?_context2.t0.response.data.error.message:_context2.t0.message});case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[2,13]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getUserDetails=function getUserDetails(user_id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var token,config,_yield$Axios$get,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=getState().userLogin.userInfo.token;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context3.prev=2;dispatch({type:USER_DETAILS_REQUEST});_context3.next=6;return Axios.get(\"https://raboy-eshop.herokuapp.com/api/v1/users/\".concat(user_id),config);case 6:_yield$Axios$get=_context3.sent;data=_yield$Axios$get.data;dispatch({type:USER_DETAILS_SUCCESS,payload:data});localStorage.setItem('userDetails',JSON.stringify(data));_context3.next=15;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](2);dispatch({type:USER_DETAILS_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.error.message?_context3.t0.response.data.error.message:_context3.t0.message});case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[2,12]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};export var updateUserProfile=function updateUserProfile(email,firstname,lastname,username,password){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var token,config,_yield$Axios$put,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=getState().userLogin.userInfo.token;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context4.prev=2;dispatch({type:USER_DETAILS_REQUEST});_context4.next=6;return Axios.put(\"https://raboy-eshop.herokuapp.com/api/v1/users/profile\",{email:email,firstname:firstname,lastname:lastname,username:username,password:password},config);case 6:_yield$Axios$put=_context4.sent;data=_yield$Axios$put.data;dispatch({type:USER_DETAILS_SUCCESS,payload:data});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](2);dispatch({type:USER_DETAILS_FAIL,payload:_context4.t0.response&&_context4.t0.response.data.error.message?_context4.t0.response.data.error.message:_context4.t0.message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[2,11]]);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();};export var listUsers=function listUsers(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var token,config,_yield$Axios$get2,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:token=getState().userLogin.userInfo.token;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context5.prev=2;dispatch({type:USER_LIST_REQUEST});_context5.next=6;return Axios.get(\"https://raboy-eshop.herokuapp.com/api/v1/users\",config);case 6:_yield$Axios$get2=_context5.sent;data=_yield$Axios$get2.data;dispatch({type:USER_LIST_SUCCESS,payload:data});localStorage.setItem('usersList',JSON.stringify(data));_context5.next=15;break;case 12:_context5.prev=12;_context5.t0=_context5[\"catch\"](2);dispatch({type:USER_LIST_FAIL,payload:_context5.t0.response&&_context5.t0.response.data.error.message?_context5.t0.response.data.error.message:_context5.t0.message});case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[2,12]]);}));return function(_x7,_x8){return _ref5.apply(this,arguments);};}();};export var deleteUser=function deleteUser(user_id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var token,config;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:token=getState().userLogin.userInfo.token;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context6.prev=2;dispatch({type:USER_DELETE_REQUEST});_context6.next=6;return Axios.delete(\"https://raboy-eshop.herokuapp.com/api/v1/users/\".concat(user_id),config);case 6:dispatch({type:USER_DELETE_SUCCESS});_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](2);dispatch({type:USER_DELETE_FAIL,payload:_context6.t0.response&&_context6.t0.response.data.error.message?_context6.t0.response.data.error.message:_context6.t0.message});case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[2,9]]);}));return function(_x9,_x10){return _ref6.apply(this,arguments);};}();};export var updateUser=function updateUser(user){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch,getState){var token,config,_yield$Axios$put2,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:token=getState().userLogin.userInfo.token;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context7.prev=2;dispatch({type:USER_UPDATE_REQUEST});_context7.next=6;return Axios.put(\"https://raboy-eshop.herokuapp.com/api/v1/users/\".concat(user.user_id),user,config);case 6:_yield$Axios$put2=_context7.sent;data=_yield$Axios$put2.data;dispatch({type:USER_UPDATE_SUCCESS});dispatch({type:USER_GET_SUCCESS,payload:data});_context7.next=15;break;case 12:_context7.prev=12;_context7.t0=_context7[\"catch\"](2);dispatch({type:USER_UPDATE_FAIL,payload:_context7.t0.response&&_context7.t0.response.data.error.message?_context7.t0.response.data.error.message:_context7.t0.message});case 15:case\"end\":return _context7.stop();}}},_callee7,null,[[2,12]]);}));return function(_x11,_x12){return _ref7.apply(this,arguments);};}();};export var getUserToUpdate=function getUserToUpdate(user_id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch,getState){var token,config,_yield$Axios$get3,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:token=getState().userLogin.userInfo.token;console.log('USER ID TO UPDATE',user_id);config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context8.prev=3;dispatch({type:USER_GET_REQUEST});_context8.next=7;return Axios.get(\"https://raboy-eshop.herokuapp.com/api/v1/users/\".concat(user_id),config);case 7:_yield$Axios$get3=_context8.sent;data=_yield$Axios$get3.data;console.log(data);dispatch({type:USER_GET_SUCCESS,payload:data.user});_context8.next=16;break;case 13:_context8.prev=13;_context8.t0=_context8[\"catch\"](3);dispatch({type:USER_GET_FAIL,payload:_context8.t0.response&&_context8.t0.response.data.error.message?_context8.t0.response.data.error.message:_context8.t0.message});case 16:case\"end\":return _context8.stop();}}},_callee8,null,[[3,13]]);}));return function(_x13,_x14){return _ref8.apply(this,arguments);};}();};export var resetUserToUpdate=function resetUserToUpdate(){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:dispatch({type:USER_GET_RESET});case 1:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x15){return _ref9.apply(this,arguments);};}();};export var resetUpdatedUser=function resetUpdatedUser(){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:dispatch({type:USER_UPDATE_RESET});case 1:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x16){return _ref10.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/Development/A-portfolio-projects/e-commerce-practice/frontend/src/actions/userActions.js"],"names":["Axios","userConstants","require","uuid","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_REGISTER_RESET","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_REMOVE","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_GET_REQUEST","USER_GET_SUCCESS","USER_GET_FAIL","USER_GET_RESET","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","login","username","password","dispatch","config","headers","type","post","data","payload","localStorage","setItem","JSON","stringify","response","error","message","logout","removeItem","register","email","firstname","lastname","user_id","getUserDetails","getState","token","userLogin","userInfo","Authorization","get","updateUserProfile","put","listUsers","deleteUser","delete","updateUser","user","getUserToUpdate","console","log","resetUserToUpdate","resetUpdatedUser"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\r\nimport Axios from 'axios';\r\n\r\nimport { userConstants } from '../constants/userConstants';\r\n\r\nconst { uuid } = require('uuidv4');\r\n\r\nconst {\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGIN_FAIL,\r\n  USER_LOGOUT,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_REGISTER_RESET,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REMOVE,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_FAIL,\r\n  USER_DELETE_REQUEST,\r\n  USER_DELETE_SUCCESS,\r\n  USER_DELETE_FAIL,\r\n  USER_GET_REQUEST,\r\n  USER_GET_SUCCESS,\r\n  USER_GET_FAIL,\r\n  USER_GET_RESET,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_RESET,\r\n} = userConstants;\r\n\r\nexport const login = (username, password) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: USER_LOGIN_REQUEST });\r\n\r\n    const { data } = await Axios.post(\r\n      'https://raboy-eshop.herokuapp.com/api/v1/users/login',\r\n      { username, password },\r\n      config\r\n    );\r\n\r\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_LOGIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  localStorage.removeItem('userInfo');\r\n  localStorage.removeItem('orderDetailsList');\r\n  localStorage.removeItem('paymentMethod');\r\n  localStorage.removeItem('shippingAddress');\r\n  localStorage.removeItem('userDetails');\r\n  dispatch({ type: USER_LOGOUT });\r\n  dispatch({ type: USER_DETAILS_REMOVE });\r\n  dispatch({ type: USER_REGISTER_RESET });\r\n};\r\n\r\nexport const register = (\r\n  email,\r\n  firstname,\r\n  lastname,\r\n  username,\r\n  password\r\n) => async (dispatch) => {\r\n  const user_id = uuid();\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: USER_REGISTER_REQUEST });\r\n\r\n    const { data } = await Axios.post(\r\n      'https://raboy-eshop.herokuapp.com/api/v1/users',\r\n      { user_id, email, firstname, lastname, username, password },\r\n      config\r\n    );\r\n\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n\r\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserDetails = (user_id) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: USER_DETAILS_REQUEST });\r\n\r\n    const { data } = await Axios.get(\r\n      `https://raboy-eshop.herokuapp.com/api/v1/users/${user_id}`,\r\n      config\r\n    );\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n    localStorage.setItem('userDetails', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUserProfile = (\r\n  email,\r\n  firstname,\r\n  lastname,\r\n  username,\r\n  password\r\n) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: USER_DETAILS_REQUEST });\r\n\r\n    const { data } = await Axios.put(\r\n      `https://raboy-eshop.herokuapp.com/api/v1/users/profile`,\r\n      { email, firstname, lastname, username, password },\r\n      config\r\n    );\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: USER_LIST_REQUEST });\r\n\r\n    const { data } = await Axios.get(\r\n      `https://raboy-eshop.herokuapp.com/api/v1/users`,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: USER_LIST_SUCCESS, payload: data });\r\n    localStorage.setItem('usersList', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = (user_id) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: USER_DELETE_REQUEST });\r\n\r\n    await Axios.delete(\r\n      `https://raboy-eshop.herokuapp.com/api/v1/users/${user_id}`,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: USER_DELETE_SUCCESS });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: USER_UPDATE_REQUEST });\r\n\r\n    const { data } = await Axios.put(\r\n      `https://raboy-eshop.herokuapp.com/api/v1/users/${user.user_id}`,\r\n      user,\r\n      config\r\n    );\r\n    dispatch({ type: USER_UPDATE_SUCCESS });\r\n    dispatch({ type: USER_GET_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_UPDATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserToUpdate = (user_id) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  console.log('USER ID TO UPDATE', user_id);\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: USER_GET_REQUEST });\r\n\r\n    const { data } = await Axios.get(\r\n      `https://raboy-eshop.herokuapp.com/api/v1/users/${user_id}`,\r\n      config\r\n    );\r\n    console.log(data);\r\n    dispatch({ type: USER_GET_SUCCESS, payload: data.user });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_GET_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const resetUserToUpdate = () => async (dispatch) => {\r\n  dispatch({ type: USER_GET_RESET });\r\n};\r\n\r\nexport const resetUpdatedUser = () => async (dispatch) => {\r\n  dispatch({ type: USER_UPDATE_RESET });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}