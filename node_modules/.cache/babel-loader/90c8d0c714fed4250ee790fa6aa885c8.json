{"ast":null,"code":"/* eslint-disable camelcase */\nimport Axios from 'axios';\nimport { reviewConstants } from '../constants/reviewConstants';\nconst {\n  PRODUCT_FETCH_REVIEWS_REQUEST,\n  PRODUCT_FETCH_REVIEWS_SUCCESS,\n  PRODUCT_FETCH_REVIEWS_FAIL,\n  PRODUCT_FETCH_REVIEWS_RESET\n} = reviewConstants;\nexport const fetchReviews = product_id => async (dispatch, getState) => {\n  const {\n    token\n  } = getState().userLogin.userInfo;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer {token}`\n    }\n  };\n\n  try {\n    dispatch({\n      type: PRODUCT_FETCH_REVIEWS_REQUEST\n    });\n    const {\n      data\n    } = await Axios.get(`http://localhost:5000/api/v1/reviews/${product_id}`, config);\n    dispatch({\n      type: PRODUCT_FETCH_REVIEWS_SUCCESS,\n      payload: data.reviews\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_FETCH_REVIEWS_FAIL,\n      payload: error.response && error.response.data.error.message ? error.response.data.error.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["D:/Development/portfolio-projects/e-commerce-practice/frontend/src/actions/reviewActions.js"],"names":["Axios","reviewConstants","PRODUCT_FETCH_REVIEWS_REQUEST","PRODUCT_FETCH_REVIEWS_SUCCESS","PRODUCT_FETCH_REVIEWS_FAIL","PRODUCT_FETCH_REVIEWS_RESET","fetchReviews","product_id","dispatch","getState","token","userLogin","userInfo","config","headers","Authorization","type","data","get","payload","reviews","error","response","message"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,8BAAhC;AAEA,MAAM;AACJC,EAAAA,6BADI;AAEJC,EAAAA,6BAFI;AAGJC,EAAAA,0BAHI;AAIJC,EAAAA;AAJI,IAKFJ,eALJ;AAOA,OAAO,MAAMK,YAAY,GAAIC,UAAD,IAAgB,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACxE,QAAM;AAAEC,IAAAA;AAAF,MAAYD,QAAQ,GAAGE,SAAX,CAAqBC,QAAvC;AACA,QAAMC,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEPC,MAAAA,aAAa,EAAG;AAFT;AADI,GAAf;;AAOA,MAAI;AACFP,IAAAA,QAAQ,CAAC;AAAEQ,MAAAA,IAAI,EAAEd;AAAR,KAAD,CAAR;AAEA,UAAM;AAAEe,MAAAA;AAAF,QAAW,MAAMjB,KAAK,CAACkB,GAAN,CACpB,wCAAuCX,UAAW,EAD9B,EAErBM,MAFqB,CAAvB;AAIAL,IAAAA,QAAQ,CAAC;AAAEQ,MAAAA,IAAI,EAAEb,6BAAR;AAAuCgB,MAAAA,OAAO,EAAEF,IAAI,CAACG;AAArD,KAAD,CAAR;AACD,GARD,CAQE,OAAOC,KAAP,EAAc;AACdb,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAEZ,0BADC;AAEPe,MAAAA,OAAO,EACLE,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBI,KAApB,CAA0BE,OAA5C,GACIF,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBI,KAApB,CAA0BE,OAD9B,GAEIF,KAAK,CAACE;AALL,KAAD,CAAR;AAOD;AACF,CA1BM","sourcesContent":["/* eslint-disable camelcase */\r\nimport Axios from 'axios';\r\nimport { reviewConstants } from '../constants/reviewConstants';\r\n\r\nconst {\r\n  PRODUCT_FETCH_REVIEWS_REQUEST,\r\n  PRODUCT_FETCH_REVIEWS_SUCCESS,\r\n  PRODUCT_FETCH_REVIEWS_FAIL,\r\n  PRODUCT_FETCH_REVIEWS_RESET,\r\n} = reviewConstants;\r\n\r\nexport const fetchReviews = (product_id) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer {token}`,\r\n    },\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: PRODUCT_FETCH_REVIEWS_REQUEST });\r\n\r\n    const { data } = await Axios.get(\r\n      `http://localhost:5000/api/v1/reviews/${product_id}`,\r\n      config\r\n    );\r\n    dispatch({ type: PRODUCT_FETCH_REVIEWS_SUCCESS, payload: data.reviews });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_FETCH_REVIEWS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}