{"ast":null,"code":"/* eslint-disable camelcase */\nimport Axios from 'axios';\nimport { productConstants } from '../constants/productConstants';\nconst {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_DETAILS_RESET,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_DELETE_RESET,\n  PRODUCT_CREATE_REQUEST,\n  PRODUCT_CREATE_SUCCESS,\n  PRODUCT_CREATE_FAIL,\n  PRODUCT_CREATE_RESET,\n  PRODUCT_UPDATE_REQUEST,\n  PRODUCT_UPDATE_SUCCESS,\n  PRODUCT_UPDATE_FAIL,\n  PRODUCT_UPDATE_RESET\n} = productConstants;\nexport const listProducts = () => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST\n    });\n    const {\n      data\n    } = await Axios.get('http://localhost:5000/api/v1/products');\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem('productList', JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error.response && error.response.data.error.message ? error.response.data.error.message : error.message\n    });\n  }\n};\nexport const listProductDetails = product_id => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST\n    });\n    const response = await Axios.get(`http://localhost:5000/api/v1/products/${product_id}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response && error.response.data.error.message ? error.response.data.error.message : error.message\n    });\n  }\n};\nexport const deleteProduct = product_id => async (dispatch, getState) => {\n  const {\n    token\n  } = getState().userLogin.userInfo;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  };\n\n  try {\n    dispatch({\n      type: PRODUCT_DELETE_REQUEST\n    });\n    await Axios.delete(`http://localhost:5000/api/v1/products/${product_id}`, config);\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS\n    });\n    dispatch({\n      type: PRODUCT_DELETE_RESET\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: error.response && error.response.data.error.message ? error.response.data.error.message : error.message\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  const {\n    token\n  } = getState().userLogin.userInfo;\n  console.log('TOKIN', token);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  };\n\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REQUEST\n    });\n    const {\n      data\n    } = await Axios.post(`http://localhost:5000/api/v1/products`, {}, config);\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data.rows[0]\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_CREATE_FAIL,\n      payload: error.response && error.response.data.error.message ? error.response.data.error.message : error.message\n    });\n  }\n};\nexport const resetCreateProduct = () => async dispatch => {\n  dispatch({\n    type: PRODUCT_CREATE_RESET\n  });\n};\nexport const updateProduct = product => async (dispatch, getState) => {\n  const {\n    token\n  } = getState().userLogin.userInfo;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  };\n\n  try {\n    dispatch({\n      type: PRODUCT_UPDATE_REQUEST\n    });\n    const {\n      data\n    } = await Axios.put(`http://localhost:5000/api/v1/products/${product.product_id}`, product, config);\n    dispatch({\n      type: PRODUCT_UPDATE_SUCCESS,\n      payload: data.rows[0]\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_UPDATE_FAIL,\n      payload: error.response && error.response.data.error.message ? error.response.data.error.message : error.message\n    });\n  }\n};\nexport const resetUpdateProduct = () => async dispatch => {\n  dispatch({\n    type: PRODUCT_UPDATE_RESET\n  });\n};\nexport const resetProductDetails = () => async dispatch => {\n  dispatch({\n    type: PRODUCT_DETAILS_RESET\n  });\n};","map":{"version":3,"sources":["D:/Development/portfolio-projects/e-commerce-practice/frontend/src/actions/productActions.js"],"names":["Axios","productConstants","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_RESET","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_RESET","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_RESET","listProducts","dispatch","type","data","get","payload","localStorage","setItem","JSON","stringify","error","response","message","listProductDetails","product_id","deleteProduct","getState","token","userLogin","userInfo","config","headers","Authorization","delete","createProduct","console","log","post","rows","resetCreateProduct","updateProduct","product","put","resetUpdateProduct","resetProductDetails"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\r\nimport Axios from 'axios';\r\nimport { productConstants } from '../constants/productConstants';\r\n\r\nconst {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DETAILS_RESET,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_RESET,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_RESET,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_UPDATE_RESET,\r\n} = productConstants;\r\n\r\nexport const listProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n    const { data } = await Axios.get('http://localhost:5000/api/v1/products');\r\n\r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n    localStorage.setItem('productList', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const listProductDetails = (product_id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n    const response = await Axios.get(\r\n      `http://localhost:5000/api/v1/products/${product_id}`\r\n    );\r\n\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: response.data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (product_id) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST });\r\n\r\n    await Axios.delete(\r\n      `http://localhost:5000/api/v1/products/${product_id}`,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS });\r\n    dispatch({ type: PRODUCT_DELETE_RESET });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  console.log('TOKIN', token);\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: PRODUCT_CREATE_REQUEST });\r\n    const { data } = await Axios.post(\r\n      `http://localhost:5000/api/v1/products`,\r\n      {},\r\n      config\r\n    );\r\n\r\n    dispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data.rows[0] });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const resetCreateProduct = () => async (dispatch) => {\r\n  dispatch({ type: PRODUCT_CREATE_RESET });\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n  const { token } = getState().userLogin.userInfo;\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n  try {\r\n    dispatch({ type: PRODUCT_UPDATE_REQUEST });\r\n\r\n    const { data } = await Axios.put(\r\n      `http://localhost:5000/api/v1/products/${product.product_id}`,\r\n      product,\r\n      config\r\n    );\r\n    dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data.rows[0] });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_UPDATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.error.message\r\n          ? error.response.data.error.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const resetUpdateProduct = () => async (dispatch) => {\r\n  dispatch({ type: PRODUCT_UPDATE_RESET });\r\n};\r\n\r\nexport const resetProductDetails = () => async (dispatch) => {\r\n  dispatch({ type: PRODUCT_DETAILS_RESET });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}