{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Development\\\\A-portfolio-projects\\\\e-commerce-practice\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Development\\\\A-portfolio-projects\\\\e-commerce-practice\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import Axios from'axios';import{cartConstants}from'../constants/cartConstants';var CART_ADD_ITEM=cartConstants.CART_ADD_ITEM,CART_REMOVE_ITEM=cartConstants.CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS=cartConstants.CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD=cartConstants.CART_SAVE_PAYMENT_METHOD,CART_RESET_ITEMS=cartConstants.CART_RESET_ITEMS;export var addToCart=function addToCart(id,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _yield$Axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get(\"https://raboy-eshop.herokuapp.com/api/v1/products/\".concat(id));case 3:_yield$Axios$get=_context.sent;data=_yield$Axios$get.data;dispatch({type:CART_ADD_ITEM,payload:{product:data.product_id,image:data.image,name:data.name,price:data.price,in_stock:data.in_stock,qty:qty}});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeFromCart=function removeFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(id);dispatch({type:CART_REMOVE_ITEM,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var saveShippingAddress=function saveShippingAddress(data){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:CART_SAVE_SHIPPING_ADDRESS,payload:data});localStorage.setItem('shippingAddress',JSON.stringify(data));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5){return _ref3.apply(this,arguments);};}();};export var savePaymentMethod=function savePaymentMethod(data){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:CART_SAVE_PAYMENT_METHOD,payload:data});localStorage.setItem('paymentMethod',JSON.stringify(data));case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x6){return _ref4.apply(this,arguments);};}();};export var resetCartItems=function resetCartItems(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:CART_RESET_ITEMS,payload:{}});localStorage.removeItem('cartItems');case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x7){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/Development/A-portfolio-projects/e-commerce-practice/frontend/src/actions/cartActions.js"],"names":["Axios","cartConstants","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_RESET_ITEMS","addToCart","id","qty","dispatch","getState","get","data","type","payload","product","product_id","image","name","price","in_stock","localStorage","setItem","JSON","stringify","cart","cartItems","console","log","removeFromCart","saveShippingAddress","savePaymentMethod","resetCartItems","removeItem"],"mappings":"6XAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,4BAA9B,C,GAGEC,CAAAA,a,CAKED,a,CALFC,a,CACAC,gB,CAIEF,a,CAJFE,gB,CACAC,0B,CAGEH,a,CAHFG,0B,CACAC,wB,CAEEJ,a,CAFFI,wB,CACAC,gB,CACEL,a,CADFK,gB,CAGF,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAKC,GAAL,iGAAa,iBAAOC,QAAP,CAAiBC,QAAjB,kLAEXX,CAAAA,KAAK,CAACY,GAAN,6DACgCJ,EADhC,EAFW,uCAE1BK,IAF0B,kBAE1BA,IAF0B,CAMlCH,QAAQ,CAAC,CACPI,IAAI,CAAEZ,aADC,CAEPa,OAAO,CAAE,CACPC,OAAO,CAAEH,IAAI,CAACI,UADP,CAEPC,KAAK,CAAEL,IAAI,CAACK,KAFL,CAGPC,IAAI,CAAEN,IAAI,CAACM,IAHJ,CAIPC,KAAK,CAAEP,IAAI,CAACO,KAJL,CAKPC,QAAQ,CAAER,IAAI,CAACQ,QALR,CAMPZ,GAAG,CAAHA,GANO,CAFF,CAAD,CAAR,CAYAa,YAAY,CAACC,OAAb,CACE,WADF,CAEEC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAFF,EAlBkC,+EAuBlCC,OAAO,CAACC,GAAR,cAvBkC,oEAAb,oEAAlB,CA2BP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACtB,EAAD,kGAAQ,kBAAOE,QAAP,CAAiBC,QAAjB,sHACpCiB,OAAO,CAACC,GAAR,CAAYrB,EAAZ,EACAE,QAAQ,CAAC,CACPI,IAAI,CAAEX,gBADC,CAEPY,OAAO,CAAEP,EAFF,CAAD,CAAR,CAKAc,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAAlC,EAPoC,wDAAR,sEAAvB,CAUP,MAAO,IAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAClB,IAAD,kGAAU,kBAAOH,QAAP,sHAC3CA,QAAQ,CAAC,CACPI,IAAI,CAAEV,0BADC,CAEPW,OAAO,CAAEF,IAFF,CAAD,CAAR,CAKAS,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAwCC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAxC,EAN2C,wDAAV,kEAA5B,CASP,MAAO,IAAMmB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACnB,IAAD,kGAAU,kBAAOH,QAAP,sHACzCA,QAAQ,CAAC,CACPI,IAAI,CAAET,wBADC,CAEPU,OAAO,CAAEF,IAFF,CAAD,CAAR,CAKAS,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAtC,EANyC,wDAAV,kEAA1B,CASP,MAAO,IAAMoB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,mGAAM,kBAAOvB,QAAP,sHAClCA,QAAQ,CAAC,CACPI,IAAI,CAAER,gBADC,CAEPS,OAAO,CAAE,EAFF,CAAD,CAAR,CAKAO,YAAY,CAACY,UAAb,CAAwB,WAAxB,EANkC,wDAAN,kEAAvB","sourcesContent":["import Axios from 'axios';\r\nimport { cartConstants } from '../constants/cartConstants';\r\n\r\nconst {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n  CART_SAVE_PAYMENT_METHOD,\r\n  CART_RESET_ITEMS,\r\n} = cartConstants;\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await Axios.get(\r\n      `https://raboy-eshop.herokuapp.com/api/v1/products/${id}`\r\n    );\r\n\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        product: data.product_id,\r\n        image: data.image,\r\n        name: data.name,\r\n        price: data.price,\r\n        in_stock: data.in_stock,\r\n        qty,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem(\r\n      'cartItems',\r\n      JSON.stringify(getState().cart.cartItems)\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const removeFromCart = (id) => async (dispatch, getState) => {\r\n  console.log(id);\r\n  dispatch({\r\n    type: CART_REMOVE_ITEM,\r\n    payload: id,\r\n  });\r\n\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n  dispatch({\r\n    type: CART_SAVE_SHIPPING_ADDRESS,\r\n    payload: data,\r\n  });\r\n\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n  dispatch({\r\n    type: CART_SAVE_PAYMENT_METHOD,\r\n    payload: data,\r\n  });\r\n\r\n  localStorage.setItem('paymentMethod', JSON.stringify(data));\r\n};\r\n\r\nexport const resetCartItems = () => async (dispatch) => {\r\n  dispatch({\r\n    type: CART_RESET_ITEMS,\r\n    payload: {},\r\n  });\r\n\r\n  localStorage.removeItem('cartItems');\r\n};\r\n"]},"metadata":{},"sourceType":"module"}