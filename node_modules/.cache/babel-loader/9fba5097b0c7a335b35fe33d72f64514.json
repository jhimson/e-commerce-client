{"ast":null,"code":"/* eslint-disable camelcase */import React,{useEffect}from'react';import{Row,Col,Button,Table}from'react-bootstrap';import{useSelector,useDispatch}from'react-redux';import{MdAddCircleOutline,MdDeleteForever}from'react-icons/md';import{FaRegEdit}from'react-icons/fa';import{Link,useHistory}from'react-router-dom';import{deleteProduct,listProducts,createProduct,resetCreateProduct,resetProductDetails}from'../../actions/productActions';import Loader from'../Loader';import Message from'../Message';var ProductListScreen=function ProductListScreen(){var dispatch=useDispatch();var history=useHistory();var _useSelector=useSelector(function(state){return state.productList;}),products=_useSelector.products;var _useSelector2=useSelector(function(state){return state.productDelete;}),successDelete=_useSelector2.success,loadingDelete=_useSelector2.loading,errorDelete=_useSelector2.error;var _useSelector3=useSelector(function(state){return state.userLogin;}),userInfo=_useSelector3.userInfo;var _useSelector4=useSelector(function(state){return state.productCreate;}),successCreate=_useSelector4.success,loadingCreate=_useSelector4.loading,errorCreate=_useSelector4.error,createdProduct=_useSelector4.product;useEffect(function(){dispatch(resetCreateProduct());dispatch(resetProductDetails());if(!userInfo.isAdmin){history.push('/login');}if(successCreate){history.push(\"/admin/product/\".concat(createdProduct.product_id,\"/edit\"));}else{dispatch(listProducts());}},[dispatch,successDelete,successCreate,userInfo,history,createdProduct]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Products\")),/*#__PURE__*/React.createElement(Col,{className:\"text-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-sm\",onClick:function onClick(){dispatch(createProduct());}},/*#__PURE__*/React.createElement(MdAddCircleOutline,{size:\"3em\",style:{marginRight:'5px'}}),\"Create Product\"))),loadingDelete&&/*#__PURE__*/React.createElement(Loader,null),loadingCreate&&/*#__PURE__*/React.createElement(Loader,null),errorDelete&&/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},errorDelete),errorCreate&&/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},errorCreate),/*#__PURE__*/React.createElement(Table,{bordered:true,hover:true,responsive:true,className:\"mt-2 table-sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Category\"),/*#__PURE__*/React.createElement(\"th\",null,\"Brand\"),/*#__PURE__*/React.createElement(\"th\",{colSpan:\"2\",className:\"text-center\"},\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,products.length?products.map(function(product){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,product.product_id),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/product/\".concat(product.product_id)},product.name)),/*#__PURE__*/React.createElement(\"td\",null,product.price),/*#__PURE__*/React.createElement(\"td\",null,product.category),/*#__PURE__*/React.createElement(\"td\",null,product.brand),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:\"light\",className:\"btn-sm\",onClick:function onClick(){history.push(\"/admin/product/\".concat(product.product_id,\"/edit\"));}},/*#__PURE__*/React.createElement(FaRegEdit,{size:\"2em\",color:\"blue\"}),\"Edit\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:\"light\",className:\"btn-sm\",onClick:function onClick(){dispatch(deleteProduct(product.product_id));}},/*#__PURE__*/React.createElement(MdDeleteForever,{size:\"2em\",color:\"red\"}),\"Delete\")));}):/*#__PURE__*/React.createElement(\"h1\",null,\"No Products found!\"))));};export default ProductListScreen;","map":{"version":3,"sources":["D:/Development/A-portfolio-projects/e-commerce-practice/frontend/src/components/screens/ProductListScreen.jsx"],"names":["React","useEffect","Row","Col","Button","Table","useSelector","useDispatch","MdAddCircleOutline","MdDeleteForever","FaRegEdit","Link","useHistory","deleteProduct","listProducts","createProduct","resetCreateProduct","resetProductDetails","Loader","Message","ProductListScreen","dispatch","history","state","productList","products","productDelete","successDelete","success","loadingDelete","loading","errorDelete","error","userLogin","userInfo","productCreate","successCreate","loadingCreate","errorCreate","createdProduct","product","isAdmin","push","product_id","marginRight","length","map","name","price","category","brand"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\r\nimport React, { useEffect } from 'react';\r\nimport { Row, Col, Button, Table } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { MdAddCircleOutline, MdDeleteForever } from 'react-icons/md';\r\nimport { FaRegEdit } from 'react-icons/fa';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport {\r\n  deleteProduct,\r\n  listProducts,\r\n  createProduct,\r\n  resetCreateProduct,\r\n  resetProductDetails,\r\n} from '../../actions/productActions';\r\nimport Loader from '../Loader';\r\nimport Message from '../Message';\r\n\r\nconst ProductListScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { products } = useSelector((state) => state.productList);\r\n  const {\r\n    success: successDelete,\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n  } = useSelector((state) => state.productDelete);\r\n  const { userInfo } = useSelector((state) => state.userLogin);\r\n\r\n  const {\r\n    success: successCreate,\r\n    loading: loadingCreate,\r\n    error: errorCreate,\r\n    product: createdProduct,\r\n  } = useSelector((state) => state.productCreate);\r\n\r\n  useEffect(() => {\r\n    dispatch(resetCreateProduct());\r\n    dispatch(resetProductDetails());\r\n    if (!userInfo.isAdmin) {\r\n      history.push('/login');\r\n    }\r\n\r\n    if (successCreate) {\r\n      history.push(`/admin/product/${createdProduct.product_id}/edit`);\r\n    } else {\r\n      dispatch(listProducts());\r\n    }\r\n  }, [\r\n    dispatch,\r\n    successDelete,\r\n    successCreate,\r\n    userInfo,\r\n    history,\r\n    createdProduct,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"align-items-center\">\r\n        <Col>\r\n          <h1>Products</h1>\r\n        </Col>\r\n        <Col className=\"text-right\">\r\n          <Button\r\n            className=\"btn-sm\"\r\n            onClick={() => {\r\n              dispatch(createProduct());\r\n            }}\r\n          >\r\n            <MdAddCircleOutline size=\"3em\" style={{ marginRight: '5px' }} />\r\n            Create Product\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      {loadingDelete && <Loader />}\r\n      {loadingCreate && <Loader />}\r\n      {errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\r\n      {errorCreate && <Message variant=\"danger\">{errorCreate}</Message>}\r\n      <Table bordered hover responsive className=\"mt-2 table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Name</th>\r\n            <th>Price</th>\r\n            <th>Category</th>\r\n            <th>Brand</th>\r\n            <th colSpan=\"2\" className=\"text-center\">\r\n              Actions\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.length ? (\r\n            products.map((product) => (\r\n              <tr>\r\n                <td>{product.product_id}</td>\r\n                <td>\r\n                  <Link to={`/product/${product.product_id}`}>\r\n                    {product.name}\r\n                  </Link>\r\n                </td>\r\n                <td>{product.price}</td>\r\n                <td>{product.category}</td>\r\n                <td>{product.brand}</td>\r\n                <td>\r\n                  <Button\r\n                    variant=\"light\"\r\n                    className=\"btn-sm\"\r\n                    onClick={() => {\r\n                      history.push(`/admin/product/${product.product_id}/edit`);\r\n                    }}\r\n                  >\r\n                    <FaRegEdit size=\"2em\" color=\"blue\" />\r\n                    Edit\r\n                  </Button>\r\n                </td>\r\n                <td>\r\n                  <Button\r\n                    variant=\"light\"\r\n                    className=\"btn-sm\"\r\n                    onClick={() => {\r\n                      dispatch(deleteProduct(product.product_id));\r\n                    }}\r\n                  >\r\n                    <MdDeleteForever size=\"2em\" color=\"red\" />\r\n                    Delete\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <h1>No Products found!</h1>\r\n          )}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  );\r\n};\r\nexport default ProductListScreen;\r\n"]},"metadata":{},"sourceType":"module"}