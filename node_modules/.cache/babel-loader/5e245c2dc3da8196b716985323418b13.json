{"ast":null,"code":"/* eslint-disable camelcase */ /* eslint-disable no-nested-ternary */import React,{useEffect}from'react';import{Link,useHistory}from'react-router-dom';import{Table,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{FcCheckmark,FcCancel}from'react-icons/fc';import{FaRegEdit}from'react-icons/fa';import{MdDeleteForever}from'react-icons/md';import Message from'../Message';import Loader from'../Loader';import{listUsers,deleteUser,getUserToUpdate,resetUpdatedUser}from'../../actions/userActions';var UserListScreen=function UserListScreen(){var dispatch=useDispatch();var history=useHistory();var _useSelector=useSelector(function(state){return state.usersList;}),users=_useSelector.users,loading=_useSelector.loading,error=_useSelector.error;var _useSelector2=useSelector(function(state){return state.userLogin;}),userInfo=_useSelector2.userInfo;var _useSelector3=useSelector(function(state){return state.userDelete;}),deleteUserLoading=_useSelector3.loading,deleteUserError=_useSelector3.error,success=_useSelector3.success;useEffect(function(){dispatch(resetUpdatedUser());if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{history.push('/login');}},[dispatch,history,userInfo,success]);var deleteHandler=function deleteHandler(user_id){dispatch(deleteUser(user_id));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Users\"),deleteUserError?/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},deleteUserError):null,success&&/*#__PURE__*/React.createElement(Message,{variant:\"success\"},\"Successfully deleted user\"),loading?/*#__PURE__*/React.createElement(Loader,null):error?/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"USER ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"First Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Last Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Email\"),/*#__PURE__*/React.createElement(\"th\",null,\"Active\"),/*#__PURE__*/React.createElement(\"th\",null,\"Admin\"),/*#__PURE__*/React.createElement(\"th\",{colSpan:\"2\",className:\"text-center\"},\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,users!==null&&users.length!==0&&users.map(function(user){return/*#__PURE__*/React.createElement(\"tr\",{key:user.user_id},/*#__PURE__*/React.createElement(\"td\",null,user.user_id),/*#__PURE__*/React.createElement(\"td\",null,user.firstname),/*#__PURE__*/React.createElement(\"td\",null,user.lastname),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"mailto:\".concat(user.email)},user.email)),/*#__PURE__*/React.createElement(\"td\",null,user.is_active?/*#__PURE__*/React.createElement(FcCheckmark,{size:\"2em\"}):/*#__PURE__*/React.createElement(FcCancel,{size:\"2em\"})),/*#__PURE__*/React.createElement(\"td\",null,user.is_admin?/*#__PURE__*/React.createElement(FcCheckmark,{size:\"2em\"}):/*#__PURE__*/React.createElement(FcCancel,{size:\"2em\"})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/admin/users/\".concat(user.user_id,\"/edit\")},/*#__PURE__*/React.createElement(Button,{variant:\"light\",className:\"btn-sm\",onClick:function onClick(){return dispatch(getUserToUpdate(user.user_id));}},/*#__PURE__*/React.createElement(FaRegEdit,{size:\"3em\",color:\"blue\"}),\"Edit\"))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:\"light\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(user.user_id);}},/*#__PURE__*/React.createElement(MdDeleteForever,{size:\"3em\",color:\"red\"}),\"Delete\")));}))));};export default UserListScreen;","map":{"version":3,"sources":["D:/Development/A-portfolio-projects/e-commerce-practice/frontend/src/components/screens/UserListScreen.jsx"],"names":["React","useEffect","Link","useHistory","Table","Button","useDispatch","useSelector","FcCheckmark","FcCancel","FaRegEdit","MdDeleteForever","Message","Loader","listUsers","deleteUser","getUserToUpdate","resetUpdatedUser","UserListScreen","dispatch","history","state","usersList","users","loading","error","userLogin","userInfo","userDelete","deleteUserLoading","deleteUserError","success","isAdmin","push","deleteHandler","user_id","length","map","user","firstname","lastname","email","is_active","is_admin"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\r\n/* eslint-disable no-nested-ternary */\r\nimport React, { useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FcCheckmark, FcCancel } from 'react-icons/fc';\r\nimport { FaRegEdit } from 'react-icons/fa';\r\nimport { MdDeleteForever } from 'react-icons/md';\r\nimport Message from '../Message';\r\nimport Loader from '../Loader';\r\nimport {\r\n  listUsers,\r\n  deleteUser,\r\n  getUserToUpdate,\r\n  resetUpdatedUser,\r\n} from '../../actions/userActions';\r\n\r\nconst UserListScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { users, loading, error } = useSelector((state) => state.usersList);\r\n\r\n  const { userInfo } = useSelector((state) => state.userLogin);\r\n\r\n  const {\r\n    loading: deleteUserLoading,\r\n    error: deleteUserError,\r\n    success,\r\n  } = useSelector((state) => state.userDelete);\r\n\r\n  useEffect(() => {\r\n    dispatch(resetUpdatedUser());\r\n    if (userInfo && userInfo.isAdmin) {\r\n      dispatch(listUsers());\r\n    } else {\r\n      history.push('/login');\r\n    }\r\n  }, [dispatch, history, userInfo, success]);\r\n\r\n  const deleteHandler = (user_id) => {\r\n    dispatch(deleteUser(user_id));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Users</h1>\r\n      {deleteUserError ? (\r\n        <Message variant=\"danger\">{deleteUserError}</Message>\r\n      ) : null}\r\n      {success && (\r\n        <Message variant=\"success\">Successfully deleted user</Message>\r\n      )}\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <Table striped bordered hover responsive className=\"table-sm\">\r\n          <thead>\r\n            <tr>\r\n              <th>USER ID</th>\r\n              <th>First Name</th>\r\n              <th>Last Name</th>\r\n              <th>Email</th>\r\n              <th>Active</th>\r\n              <th>Admin</th>\r\n              <th colSpan=\"2\" className=\"text-center\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users !== null &&\r\n              users.length !== 0 &&\r\n              users.map((user) => (\r\n                <tr key={user.user_id}>\r\n                  <td>{user.user_id}</td>\r\n                  <td>{user.firstname}</td>\r\n                  <td>{user.lastname}</td>\r\n                  <td>\r\n                    <a href={`mailto:${user.email}`}>{user.email}</a>\r\n                  </td>\r\n                  <td>\r\n                    {user.is_active ? (\r\n                      <FcCheckmark size=\"2em\" />\r\n                    ) : (\r\n                      <FcCancel size=\"2em\" />\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    {user.is_admin ? (\r\n                      <FcCheckmark size=\"2em\" />\r\n                    ) : (\r\n                      <FcCancel size=\"2em\" />\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <Link to={`/admin/users/${user.user_id}/edit`}>\r\n                      <Button\r\n                        variant=\"light\"\r\n                        className=\"btn-sm\"\r\n                        onClick={() => dispatch(getUserToUpdate(user.user_id))}\r\n                      >\r\n                        <FaRegEdit size=\"3em\" color=\"blue\" />\r\n                        Edit\r\n                      </Button>\r\n                    </Link>\r\n                  </td>\r\n                  <td>\r\n                    <Button\r\n                      variant=\"light\"\r\n                      className=\"btn-sm\"\r\n                      onClick={() => deleteHandler(user.user_id)}\r\n                    >\r\n                      <MdDeleteForever size=\"3em\" color=\"red\" />\r\n                      Delete\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserListScreen;\r\n"]},"metadata":{},"sourceType":"module"}