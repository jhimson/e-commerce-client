{"ast":null,"code":"var _jsxFileName = \"D:\\\\Development\\\\portfolio-projects\\\\e-commerce-practice\\\\frontend\\\\src\\\\components\\\\screens\\\\OrderScreen.jsx\";\n\n/* eslint-disable no-nested-ternary */\n\n/* eslint-disable camelcase */\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport Moment from 'moment';\nimport { PayPalButton } from 'react-paypal-button-v2';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\nimport { Row, Col, ListGroup, Image, Card, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FaDollarSign } from 'react-icons/fa';\nimport Message from '../Message';\nimport Loader from '../Loader';\nimport { payOrder, getAllOrderedItemsByOrderId, deliverOrder } from '../../actions/orderActions';\nimport { resetProductDetails } from '../../actions/productActions';\nimport { orderConstants } from '../../constants/orderConstants';\n\nconst OrderScreen = () => {\n  const {\n    ORDER_PAY_RESET\n  } = orderConstants;\n  const [sdkReady, setSdkReady] = useState(false);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const {\n    id\n  } = useParams();\n  const user = useSelector(state => state.userDetails.user);\n  const {\n    firstname,\n    lastname\n  } = user;\n  const {\n    userInfo: {\n      user_id,\n      email,\n      isAdmin\n    }\n  } = useSelector(state => state.userLogin);\n  const {\n    orders,\n    shippingDetails,\n    loading,\n    error\n  } = useSelector(state => state.orderedItems);\n  const {\n    loading: loadingPay,\n    success: successPay\n  } = useSelector(state => state.orderPay);\n  const {\n    loading: loadingDeliver,\n    success: successDeliver\n  } = useSelector(state => state.orderDeliver); // TODO - CALCULATIONS FOR PRICE\n\n  const addDecimals = num => (Math.round(num * 100) / 100).toFixed(2);\n\n  const subTotalPrice = addDecimals(orders.reduce((accu, item) => accu + parseInt(item.price) * item.quantity, 0));\n  const shippingPrice = addDecimals(subTotalPrice > 100 ? 0 : 100);\n  const taxPrice = addDecimals(Number((0.15 * subTotalPrice).toFixed(2)));\n  const totalPrice = (Number(subTotalPrice) + Number(shippingPrice) + Number(taxPrice)).toFixed(2);\n  useEffect(() => {\n    dispatch(resetProductDetails());\n\n    const addPayPalScript = async () => {\n      const {\n        data: clientID\n      } = await Axios.get('http://localhost:5000/api/v1/config/paypal');\n      const script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.async = true;\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientID}`;\n\n      script.onload = () => {\n        setSdkReady(true);\n      };\n\n      document.body.appendChild(script);\n    };\n\n    if (orders.length === 0 || successPay) {\n      dispatch({\n        type: ORDER_PAY_RESET\n      });\n      dispatch(getAllOrderedItemsByOrderId(id));\n    } else if (!shippingDetails.is_paid) {\n      if (!window.paypal) {\n        addPayPalScript();\n      } else {\n        setSdkReady(true);\n      }\n    }\n  }, [dispatch, id, orders, shippingDetails.is_paid, successPay, ORDER_PAY_RESET]);\n\n  const successPaymentHandler = paymentResult => {\n    dispatch(payOrder(shippingDetails.order_id, paymentResult));\n    localStorage.removeItem('orderDetailsList');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, `${error} potang ina mo`) : loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Message, {\n    variant: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, \"ORDER \", id)), /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, \"Name:\"), firstname, \", \", lastname), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: `mailto:${shippingDetails.payment_email_address}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }, \"shippingDetails.payment_email_address\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, \"Address:\"), shippingDetails.address, \",\", shippingDetails.city, ' ', shippingDetails.postalCode, \" \", shippingDetails.country), shippingDetails.is_delivered ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, `Delivered on ${Moment(shippingDetails.delivered_at).format('MMMM Do YYYY, h:mm:ss A')} - (${Moment().startOf('hour').fromNow()})`) : /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, \"Not Delivered\")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"Payment Method\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, \"Method:\"), shippingDetails.payment_method, shippingDetails.is_paid ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, `Paid on ${Moment(shippingDetails.paid_at).format('MMMM Do YYYY, h:mm:ss A')} - (${Moment().startOf('hour').fromNow()})`) : /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, \"Not Paid\")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, \"Order List\"), orders.length === 0 ? /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }, \"No items found!\") : /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }\n  }, orders.map(item => /*#__PURE__*/React.createElement(ListGroup.Item, {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: item.image,\n    alt: item.name,\n    fluid: true,\n    rounded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product_id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, `${item.name} - ${item.product_id}`)), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 27\n    }\n  }, item.quantity, \" x \", /*#__PURE__*/React.createElement(FaDollarSign, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 47\n    }\n  }), item.price, \" = \", /*#__PURE__*/React.createElement(FaDollarSign, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 44\n    }\n  }), item.quantity * item.price)))))))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, \"Order Summary\")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }, \"Subtotal\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaDollarSign, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 23\n    }\n  }), subTotalPrice))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaDollarSign, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 23\n    }\n  }), shippingPrice))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }, \"Tax\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaDollarSign, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 23\n    }\n  }), taxPrice))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 21\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaDollarSign, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 23\n    }\n  }), totalPrice))), !shippingDetails.is_paid && /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, loadingPay && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 36\n    }\n  }), !sdkReady ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(PayPalButton, {\n    amount: totalPrice,\n    onSuccess: successPaymentHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 23\n    }\n  })), isAdmin && shippingDetails.is_paid && !shippingDetails.is_delivered ? /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-block\",\n    onClick: () => dispatch(deliverOrder(id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }, \"Mark as Delivered\")) : null)))));\n};\n\nexport default OrderScreen;","map":{"version":3,"sources":["D:/Development/portfolio-projects/e-commerce-practice/frontend/src/components/screens/OrderScreen.jsx"],"names":["React","useEffect","useState","Axios","Moment","PayPalButton","Link","useHistory","useLocation","useParams","Row","Col","ListGroup","Image","Card","Button","useDispatch","useSelector","FaDollarSign","Message","Loader","payOrder","getAllOrderedItemsByOrderId","deliverOrder","resetProductDetails","orderConstants","OrderScreen","ORDER_PAY_RESET","sdkReady","setSdkReady","history","dispatch","location","id","user","state","userDetails","firstname","lastname","userInfo","user_id","email","isAdmin","userLogin","orders","shippingDetails","loading","error","orderedItems","loadingPay","success","successPay","orderPay","loadingDeliver","successDeliver","orderDeliver","addDecimals","num","Math","round","toFixed","subTotalPrice","reduce","accu","item","parseInt","price","quantity","shippingPrice","taxPrice","Number","totalPrice","addPayPalScript","data","clientID","get","script","document","createElement","type","async","src","onload","body","appendChild","length","is_paid","window","paypal","successPaymentHandler","paymentResult","order_id","localStorage","removeItem","payment_email_address","address","city","postalCode","country","is_delivered","delivered_at","format","startOf","fromNow","payment_method","paid_at","map","product","image","name","product_id"],"mappings":"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","sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/* eslint-disable camelcase */\r\nimport React, { useEffect, useState } from 'react';\r\nimport Axios from 'axios';\r\nimport Moment from 'moment';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\r\nimport { Row, Col, ListGroup, Image, Card, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FaDollarSign } from 'react-icons/fa';\r\nimport Message from '../Message';\r\nimport Loader from '../Loader';\r\nimport {\r\n  payOrder,\r\n  getAllOrderedItemsByOrderId,\r\n  deliverOrder,\r\n} from '../../actions/orderActions';\r\nimport { resetProductDetails } from '../../actions/productActions';\r\nimport { orderConstants } from '../../constants/orderConstants';\r\n\r\nconst OrderScreen = () => {\r\n  const { ORDER_PAY_RESET } = orderConstants;\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const { id } = useParams();\r\n\r\n  const user = useSelector((state) => state.userDetails.user);\r\n  const { firstname, lastname } = user;\r\n\r\n  const {\r\n    userInfo: { user_id, email, isAdmin },\r\n  } = useSelector((state) => state.userLogin);\r\n\r\n  const { orders, shippingDetails, loading, error } = useSelector(\r\n    (state) => state.orderedItems\r\n  );\r\n\r\n  const { loading: loadingPay, success: successPay } = useSelector(\r\n    (state) => state.orderPay\r\n  );\r\n\r\n  const { loading: loadingDeliver, success: successDeliver } = useSelector(\r\n    (state) => state.orderDeliver\r\n  );\r\n\r\n  // TODO - CALCULATIONS FOR PRICE\r\n\r\n  const addDecimals = (num) => (Math.round(num * 100) / 100).toFixed(2);\r\n\r\n  const subTotalPrice = addDecimals(\r\n    orders.reduce(\r\n      (accu, item) => accu + parseInt(item.price) * item.quantity,\r\n      0\r\n    )\r\n  );\r\n  const shippingPrice = addDecimals(subTotalPrice > 100 ? 0 : 100);\r\n  const taxPrice = addDecimals(Number((0.15 * subTotalPrice).toFixed(2)));\r\n\r\n  const totalPrice = (\r\n    Number(subTotalPrice) +\r\n    Number(shippingPrice) +\r\n    Number(taxPrice)\r\n  ).toFixed(2);\r\n\r\n  useEffect(() => {\r\n    dispatch(resetProductDetails());\r\n    const addPayPalScript = async () => {\r\n      const { data: clientID } = await Axios.get(\r\n        'http://localhost:5000/api/v1/config/paypal'\r\n      );\r\n      const script = document.createElement('script');\r\n      script.type = 'text/javascript';\r\n      script.async = true;\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientID}`;\r\n      script.onload = () => {\r\n        setSdkReady(true);\r\n      };\r\n      document.body.appendChild(script);\r\n    };\r\n\r\n    if (orders.length === 0 || successPay) {\r\n      dispatch({ type: ORDER_PAY_RESET });\r\n      dispatch(getAllOrderedItemsByOrderId(id));\r\n    } else if (!shippingDetails.is_paid) {\r\n      if (!window.paypal) {\r\n        addPayPalScript();\r\n      } else {\r\n        setSdkReady(true);\r\n      }\r\n    }\r\n  }, [\r\n    dispatch,\r\n    id,\r\n    orders,\r\n    shippingDetails.is_paid,\r\n    successPay,\r\n    ORDER_PAY_RESET,\r\n  ]);\r\n\r\n  const successPaymentHandler = (paymentResult) => {\r\n    dispatch(payOrder(shippingDetails.order_id, paymentResult));\r\n    localStorage.removeItem('orderDetailsList');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {error ? (\r\n        <Message variant=\"danger\">{`${error} potang ina mo`}</Message>\r\n      ) : loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Row>\r\n          <Col md={8}>\r\n            <Message variant=\"info\">\r\n              <h5>ORDER {id}</h5>\r\n            </Message>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                <h2>Shipping</h2>\r\n                <p>\r\n                  <strong>Name:</strong>\r\n                  {firstname}, {lastname}\r\n                </p>\r\n                <p>\r\n                  <strong>Email:</strong>\r\n                  <a href={`mailto:${shippingDetails.payment_email_address}`}>\r\n                    shippingDetails.payment_email_address\r\n                  </a>\r\n                </p>\r\n                <p>\r\n                  <strong>Address:</strong>\r\n                  {shippingDetails.address},{shippingDetails.city}{' '}\r\n                  {shippingDetails.postalCode} {shippingDetails.country}\r\n                </p>\r\n                {shippingDetails.is_delivered ? (\r\n                  <Message variant=\"success\">{`Delivered on ${Moment(\r\n                    shippingDetails.delivered_at\r\n                  ).format('MMMM Do YYYY, h:mm:ss A')} - (${Moment()\r\n                    .startOf('hour')\r\n                    .fromNow()})`}</Message>\r\n                ) : (\r\n                  <Message variant=\"danger\">Not Delivered</Message>\r\n                )}\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h2>Payment Method</h2>\r\n                <strong>Method:</strong>\r\n                {shippingDetails.payment_method}\r\n                {shippingDetails.is_paid ? (\r\n                  <Message variant=\"success\">\r\n                    {`Paid on ${Moment(shippingDetails.paid_at).format(\r\n                      'MMMM Do YYYY, h:mm:ss A'\r\n                    )} - (${Moment().startOf('hour').fromNow()})`}\r\n                  </Message>\r\n                ) : (\r\n                  <Message variant=\"danger\">Not Paid</Message>\r\n                )}\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h2>Order List</h2>\r\n\r\n                {orders.length === 0 ? (\r\n                  <Message>No items found!</Message>\r\n                ) : (\r\n                  <ListGroup variant=\"flush\">\r\n                    {orders.map((item) => (\r\n                      <ListGroup.Item key={item.product}>\r\n                        <Row>\r\n                          <Col md={1}>\r\n                            <Image\r\n                              src={item.image}\r\n                              alt={item.name}\r\n                              fluid\r\n                              rounded\r\n                            />\r\n                          </Col>\r\n                          <Col>\r\n                            <Link to={`/product/${item.product_id}`}>\r\n                              {`${item.name} - ${item.product_id}`}\r\n                            </Link>\r\n                          </Col>\r\n                          <Col md={4}>\r\n                            {item.quantity} x <FaDollarSign />\r\n                            {item.price} = <FaDollarSign />\r\n                            {item.quantity * item.price}\r\n                          </Col>\r\n                        </Row>\r\n                      </ListGroup.Item>\r\n                    ))}\r\n                  </ListGroup>\r\n                )}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={4}>\r\n            <Card>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <h2>Order Summary</h2>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Subtotal</Col>\r\n                    <Col>\r\n                      <FaDollarSign />\r\n                      {subTotalPrice}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Shipping</Col>\r\n                    <Col>\r\n                      <FaDollarSign />\r\n                      {shippingPrice}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Tax</Col>\r\n                    <Col>\r\n                      <FaDollarSign />\r\n                      {taxPrice}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Total</Col>\r\n                    <Col>\r\n                      <FaDollarSign />\r\n                      {totalPrice}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                {!shippingDetails.is_paid && (\r\n                  <ListGroup.Item>\r\n                    {loadingPay && <Loader />}\r\n                    {!sdkReady ? (\r\n                      <Loader />\r\n                    ) : (\r\n                      <PayPalButton\r\n                        amount={totalPrice}\r\n                        onSuccess={successPaymentHandler}\r\n                      />\r\n                    )}\r\n                  </ListGroup.Item>\r\n                )}\r\n                {isAdmin &&\r\n                shippingDetails.is_paid &&\r\n                !shippingDetails.is_delivered ? (\r\n                  <ListGroup.Item>\r\n                    <Button\r\n                      className=\"btn btn-block\"\r\n                      onClick={() => dispatch(deliverOrder(id))}\r\n                    >\r\n                      Mark as Delivered\r\n                    </Button>\r\n                  </ListGroup.Item>\r\n                ) : null}\r\n              </ListGroup>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;\r\n"]},"metadata":{},"sourceType":"module"}