(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(31),l=a.n(c),o=a(9),u=a(12),s=a(36),i=a(80),m=a(81),p=a(2),d="PRODUCT_LIST_REQUEST",E="PRODUCT_LIST_SUCCESS",f="PRODUCT_LIST_FAIL",h="PRODUCT_DETAILS_REQUEST",b="PRODUCT_DETAILS_SUCCESS",g="PRODUCT_DETAILS_FAIL",O="PRODUCT_DETAILS_RESET",v="PRODUCT_DELETE_REQUEST",y="PRODUCT_DELETE_SUCCESS",j="PRODUCT_DELETE_FAIL",S="PRODUCT_DELETE_RESET",_="PRODUCT_CREATE_REQUEST",I="PRODUCT_CREATE_SUCCESS",C="PRODUCT_CREATE_FAIL",k="PRODUCT_CREATE_RESET",L="PRODUCT_UPDATE_REQUEST",R="PRODUCT_UPDATE_SUCCESS",T="PRODUCT_UPDATE_FAIL",w="PRODUCT_UPDATE_RESET",D="PRODUCT_LIST_TOP_REQUEST",x="PRODUCT_LIST_TOP_SUCCESS",U="PRODUCT_LIST_TOP_FAIL",A=d,P=E,N=f,F=h,M=b,G=g,z=O,Y=v,q=y,B=j,J=S,Q=_,H=I,V=C,W=k,$=L,K=R,X=T,Z=w,ee=D,te=x,ae=U,re=a(26),ne="CART_ADD_ITEM",ce="CART_REMOVE_ITEM",le="CART_SAVE_SHIPPING_ADDRESS",oe="CART_SAVE_PAYMENT_METHOD",ue="CART_RESET_ITEMS",se=ne,ie=ce,me=le,pe=oe,de=ue,Ee="PRODUCT_FETCH_REVIEWS_REQUEST",fe="PRODUCT_FETCH_REVIEWS_SUCCESS",he="PRODUCT_FETCH_REVIEWS_FAIL",be="PRODUCT_FETCH_REVIEWS_RESET",ge="PRODUCT_CREATE_REVIEWS_REQUEST",Oe="PRODUCT_CREATE_REVIEWS_SUCCESS",ve="PRODUCT_CREATE_REVIEWS_FAIL",ye="PRODUCT_CREATE_REVIEWS_RESET",je=Ee,Se=fe,_e=he,Ie=be,Ce=ge,ke=Oe,Le=ve,Re=ye,Te="USER_LOGIN_REQUEST",we="USER_LOGIN_SUCCESS",De="USER_LOGIN_FAIL",xe="USER_LOGOUT",Ue="USER_REGISTER_REQUEST",Ae="USER_REGISTER_SUCCESS",Pe="USER_REGISTER_FAIL",Ne="USER_REGISTER_RESET",Fe="USER_DETAILS_REQUEST",Me="USER_DETAILS_SUCCESS",Ge="USER_DETAILS_FAIL",ze="USER_DETAILS_REMOVE",Ye="USER_UPDATE_PROFILE_REQUEST",qe="USER_UPDATE_PROFILE_SUCCESS",Be="USER_LIST_REQUEST",Je="USER_LIST_SUCCESS",Qe="USER_LIST_FAIL",He="USER_DELETE_REQUEST",Ve="USER_DELETE_SUCCESS",We="USER_DELETE_FAIL",$e="USER_GET_REQUEST",Ke="USER_GET_SUCCESS",Xe="USER_GET_FAIL",Ze="USER_GET_RESET",et="USER_UPDATE_REQUEST",tt="USER_UPDATE_SUCCESS",at="USER_UPDATE_FAIL",rt="USER_UPDATE_RESET",nt=Te,ct=we,lt=De,ot=xe,ut=Ue,st=Ae,it=Pe,mt=Ne,pt=Fe,dt=Me,Et=Ge,ft=ze,ht=Ye,bt=qe,gt="USER_UPDATE_PROFILE_FAIL",Ot="USER_UPDATE_PROFILE_RESET",vt=Be,yt=Je,jt=Qe,St=He,_t=Ve,It=We,Ct=et,kt=tt,Lt=at,Rt=rt,Tt=$e,wt=Ke,Dt=Xe,xt=Ze,Ut="ORDER_CREATE_REQUEST",At="ORDER_CREATE_SUCCESS",Pt="ORDER_CREATE_FAIL",Nt="ORDER_FETCH_REQUEST",Ft="ORDER_FETCH_SUCCESS",Mt="ORDER_FETCH_FAIL",Gt="ORDER_DETAILS_FETCH_REQUEST",zt="ORDER_DETAILS_FETCH_SUCCESS",Yt="ORDER_DETAILS_FETCH_FAIL",qt="ORDER_ITEMS_FETCH_REQUEST",Bt="ORDER_ITEMS_FETCH_SUCCESS",Jt="ORDER_ITEMS_FETCH_FAIL",Qt="ORDER_PAY_REQUEST",Ht="ORDER_PAY_SUCCESS",Vt="ORDER_PAY_FAIL",Wt="ORDER_PAY_RESET",$t="ORDER_FETCH_DISTINCT_REQUEST",Kt="ORDER_FETCH_DISTINCT_SUCCESS",Xt="ORDER_FETCH_DISTINCT_FAIL",Zt="ORDER_FETCH_ONE_REQUEST",ea="ORDER_FETCH_ONE_SUCCESS",ta="ORDER_FETCH_ONE_FAIL",aa="ORDER_FETCH_ONE_RESET",ra="ORDER_DELIVER_REQUEST",na="ORDER_DELIVER_SUCCESS",ca="ORDER_DELIVER_FAIL",la="ORDER_DELIVER_RESET",oa=Ut,ua=At,sa=Pt,ia=Nt,ma=Ft,pa=Mt,da=Gt,Ea=zt,fa=Yt,ha=qt,ba=Bt,ga=Jt,Oa=Qt,va=Ht,ya=Vt,ja=Wt,Sa=$t,_a=Kt,Ia=Xt,Ca=Zt,ka=ea,La=ta,Ra=aa,Ta=ra,wa=na,Da=ca,xa=la,Ua=Object(s.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case A:return Object(p.a)(Object(p.a)({},e),{},{loading:!0,products:[]});case P:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,products:r});case N:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case F:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case M:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,product:r});case G:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case z:return{product:{}};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Q:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case H:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,product:r});case V:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case W:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case $:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case K:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,product:r});case X:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case Z:return{};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Y:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case q:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0});case B:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case J:return{};default:return e}},topProductFetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case ee:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case te:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,products:r});case ae:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:"PayPal"},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case se:var n=e.cartItems.find((function(e){return e.product===r.product}));return n?Object(p.a)(Object(p.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?r:e}))}):Object(p.a)(Object(p.a)({},e),{},{cartItems:[].concat(Object(re.a)(e.cartItems),[r])});case ie:return Object(p.a)(Object(p.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==r}))});case me:return Object(p.a)(Object(p.a)({},e),{},{shippingAddress:r});case pe:return Object(p.a)(Object(p.a)({},e),{},{paymentMethod:r});case de:return Object(p.a)(Object(p.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case nt:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case ct:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,userInfo:r});case lt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case ot:return Object(p.a)(Object(p.a)({},e),{},{userInfo:null});default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case ut:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case st:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,userInfo:r});case it:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case mt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,userInfo:{}});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case pt:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case dt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,user:r});case Et:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case ft:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,user:{}});default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case ht:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case bt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,user:r});case gt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case Ot:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,user:{}});default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case vt:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case yt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,users:r});case jt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case St:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case _t:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0});case It:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userToUpdate:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Tt:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case wt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,userToUpdate:r});case Dt:return{loading:!1,error:r};case xt:return{userToUpdate:{}};default:return e}},updatedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Ct:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case kt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0});case Lt:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!1,error:r});case Rt:return{};default:return e}},orderFetchDistinct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{distinctIds:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Sa:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case _a:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,distinctIds:r});case Ia:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},orderFetchOne:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Ca:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case ka:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,allOrderList:r});case La:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case Ra:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case oa:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case ua:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,order:r});case sa:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},orderFetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderItems:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case ia:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case ma:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,orderItems:r});case pa:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderDetailsList:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case da:return{loading:!0};case Ea:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,orderDetailsList:r});case fa:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},orderedItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[],shippingDetails:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case ha:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case ba:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,orders:r,shippingDetails:{order_id:r[0].order_id,name:r[0].fullname,payment_email_address:r[0].payment_email_address,payment_method:r[0].payment_method,is_paid:r[0].is_paid,is_delivered:r[0].is_delivered,paid_at:r[0].paid_at,address:r[0].shipping_address,city:r[0].shipping_city,postal_code:r[0].shipping_postal_code,country:r[0].shipping_country}});case ga:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Oa:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case va:return Object(p.a)(Object(p.a)({},e),{},{success:!0,loading:!1});case ya:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case ja:return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Ta:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case wa:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0});case Da:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!1,error:r});case xa:return{};default:return e}},reviewsFetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case je:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case Se:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,reviews:r});case _e:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case Ie:return{reviews:[]};default:return e}},reviewsCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case Ce:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case ke:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0});case Le:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:r});case Re:return{};default:return e}}}),Aa=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Pa=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Na=localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},Fa=localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):"PayPal",Ma=localStorage.getItem("orderDetailsList")?JSON.parse(localStorage.getItem("orderDetailsList")):[],Ga=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):null,za=localStorage.getItem("usersList")?JSON.parse(localStorage.getItem("usersList")):null,Ya={productList:{products:localStorage.getItem("productList")?JSON.parse(localStorage.getItem("productList")):[]},cart:{cartItems:Aa,shippingAddress:Na,paymentMethod:Fa},userLogin:{userInfo:Pa},orderDetails:{orderDetailsList:Ma},orderFetchOne:{allOrderList:localStorage.getItem("allOrderList")?JSON.parse(localStorage.getItem("allOrderList")):[]},userDetails:{user:Ga},usersList:{users:za}},qa=[i.a],Ba=Object(s.createStore)(Ua,Ya,Object(m.composeWithDevTools)(s.applyMiddleware.apply(void 0,qa))),Ja=(a(106),a(107),a(139)),Qa=a(16),Ha=a(140),Va=a(82),Wa=function(){return n.a.createElement("footer",null,n.a.createElement(Ja.a,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{className:"text-center py-3"},"Copyrights \xa9 Dev Jhimz"))))},$a=a(149),Ka=a(141),Xa=a(142),Za=a(147),er=a(17),tr=a(21),ar=a(7),rr=a.n(ar),nr=a(11),cr=a(13),lr=a.n(cr),or=a(65).uuid,ur=Te,sr=we,ir=De,mr=xe,pr=Ue,dr=Ae,Er=Pe,fr=Ne,hr=Fe,br=Me,gr=Ge,Or=ze,vr=Be,yr=Je,jr=Qe,Sr=He,_r=Ve,Ir=We,Cr=$e,kr=Ke,Lr=Xe,Rr=Ze,Tr=et,wr=tt,Dr=at,xr=rt,Ur=function(e){return function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){var n,c,l,o;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.prev=2,a({type:hr}),t.next=6,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/users/".concat(e),c);case 6:l=t.sent,o=l.data,a({type:br,payload:o}),localStorage.setItem("userDetails",JSON.stringify(o)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),a({type:gr,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()},Ar=function(e){return function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){var n,c,l,o;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().userLogin.userInfo.token,console.log("USER ID TO UPDATE",e),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.prev=3,a({type:Cr}),t.next=7,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/users/".concat(e),c);case 7:l=t.sent,o=l.data,console.log(o),a({type:kr,payload:o.user}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),a({type:Lr,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}()},Pr=a(10),Nr=a(146),Fr=a(83),Mr=function(){var e=Object(Qa.k)(),t=Object(r.useState)(""),a=Object(Pr.a)(t,2),c=a[0],l=a[1];return n.a.createElement(Nr.a,{onSubmit:function(t){t.preventDefault(),c.trim()?e.push("/search/".concat(c)):e.push("/")},inline:!0},n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Search...",value:c,onChange:function(e){return l(e.target.value.substr(0,20).toLowerCase())},className:"mr -sm-2 ml-sm-5"}),n.a.createElement(Fr.a,{type:"submit",variant:"outline-success",className:"p-2"},"Search"))},Gr=function(){var e=Object(Qa.k)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.userLogin})).userInfo,c=Object(o.c)((function(e){return e.userDetails})).user,l=Object(o.c)((function(e){return e.cart})).cartItems;Object(r.useEffect)((function(){}),[c]);var s=l.reduce((function(e,t){return Number(t.qty)+e}),0);return n.a.createElement($a.a,{bg:"dark",variant:"dark",expand:"lg",colapseOnSelect:!0},n.a.createElement(Ja.a,null,n.a.createElement(u.Link,{to:"/"},n.a.createElement($a.a.Brand,null,"Raboy's E-Shop")),n.a.createElement($a.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(Mr,null),n.a.createElement(Ka.a,{className:"ml-auto"},n.a.createElement(Ka.a.Link,{onClick:function(){return e.push("/cart")}},"Cart ",n.a.createElement(er.c,{size:"2em"}),0!==l.length&&n.a.createElement(Xa.a,{variant:"danger",style:{fontSize:"12px"}},s)),a&&a.isAdmin&&n.a.createElement(Za.a,{title:"Admin",id:"email"},n.a.createElement(n.a.Fragment,null,n.a.createElement(tr.LinkContainer,{to:"/admin/usersList"},n.a.createElement(Za.a.Item,null,"View Users")),n.a.createElement(tr.LinkContainer,{to:"/admin/ordersList"},n.a.createElement(Za.a.Item,null,"View Orders")),n.a.createElement(tr.LinkContainer,{to:"/admin/productsList"},n.a.createElement(Za.a.Item,null,"View Products")))),a?n.a.createElement(Za.a,{title:a.email,id:"email"},n.a.createElement(tr.LinkContainer,{to:"/profile"},n.a.createElement(Za.a.Item,null,"Profile")),n.a.createElement(Za.a.Item,{onClick:function(){t((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("orderDetailsList"),localStorage.removeItem("paymentMethod"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("userDetails"),e({type:mr}),e({type:Or}),e({type:fr})})),e.push("/login")}},"Logout")):n.a.createElement(Ka.a.Link,{onClick:function(){return e.push("/login")}},n.a.createElement(er.d,{size:"2em"})," Sign In")))))},zr=function(){return n.a.createElement("header",null,n.a.createElement(Gr,null))},Yr=a(151),qr=a(62),Br=function(e){var t=e.value,a=e.text,r=e.color,c=e.forReviews;return n.a.createElement("div",{className:"rating"},[{full:1,half:.5},{full:2,half:1.5},{full:3,half:2.5},{full:4,half:3.5},{full:5,half:4.5}].map((function(e){var a=e.full,c=e.half;return n.a.createElement("span",{style:{color:r}},t>=a?n.a.createElement(qr.b,null):t>=c?n.a.createElement(qr.c,null):n.a.createElement(qr.a,null))})),!c&&n.a.createElement("span",null," ".concat(a&&a)))};Br.defaultProps={color:"#D4AF37"};var Jr=Br,Qr=function(e){var t=e.product,a=t.product_id,r=t.image,c=t.name,l=t.rating,o=t.num_reviews,s=t.price;return n.a.createElement(Yr.a,{className:"my-3 p-3 rounded"},n.a.createElement(u.Link,{to:"product/".concat(a)},n.a.createElement(Yr.a.Img,{src:r,variant:"top"})),n.a.createElement(Yr.a.Body,null,n.a.createElement(u.Link,{to:"/product/".concat(a)},n.a.createElement(Yr.a.Title,{as:"div"},n.a.createElement("strong",null,c))),n.a.createElement(Yr.a.Text,{as:"div"},n.a.createElement("div",{className:"my-3"},n.a.createElement(Jr,{value:l,text:"".concat(o," reviews")}))),n.a.createElement(Yr.a.Text,{as:"h3"},"$",s)))},Hr=d,Vr=E,Wr=f,$r=h,Kr=b,Xr=g,Zr=O,en=v,tn=y,an=j,rn=S,nn=_,cn=I,ln=C,on=k,un=L,sn=R,mn=T,pn=w,dn=D,En=x,fn=U,hn=function(){return function(){var e=Object(nr.a)(rr.a.mark((function e(t){var a,r;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Hr}),e.next=4,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/products");case 4:a=e.sent,r=a.data,t({type:Vr,payload:r}),localStorage.setItem("productList",JSON.stringify(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:Wr,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},bn=function(e){return function(){var t=Object(nr.a)(rr.a.mark((function t(a){var r;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:$r}),t.next=4,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/products/".concat(e));case 4:r=t.sent,a({type:Kr,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:Xr,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},gn=function(){return function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Zr});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},On=a(143),vn=function(){return n.a.createElement(On.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},n.a.createElement("span",{className:"sr-only"},"Loading..."))},yn=a(150),jn=function(e){var t=e.variant,a=e.children;return n.a.createElement(yn.a,{variant:t},a)};jn.defaultProps={variant:"info"};var Sn=jn,_n=Ut,In=At,Cn=Pt,kn=Nt,Ln=Ft,Rn=Mt,Tn=Gt,wn=zt,Dn=Yt,xn=qt,Un=Bt,An=Jt,Pn=Qt,Nn=Ht,Fn=Vt,Mn=$t,Gn=Kt,zn=Xt,Yn=Zt,qn=ea,Bn=ta,Jn=aa,Qn=ra,Hn=na,Vn=ca,Wn=la,$n=function(e){return function(){var e=Object(nr.a)(rr.a.mark((function e(t,a){var r,n,c,l;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().userLogin.userInfo.token,e.prev=1,t({type:kn}),n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=6,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/orders",n);case 6:c=e.sent,l=c.data,t({type:Ln,payload:l.rows}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:Rn,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()},Kn=function(e){return function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){var n,c,l,o;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().userLogin.userInfo.token,t.prev=1,a({type:xn}),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.next=6,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/orders/".concat(e,"/all"),c);case 6:l=t.sent,o=l.data,a({type:Un,payload:o.orders}),localStorage.setItem("orderedItems",JSON.stringify(o)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a({type:An,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}()},Xn=Ee,Zn=fe,ec=he,tc=be,ac=ge,rc=Oe,nc=ve,cc=ye,lc=function(){return function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:cc});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oc=a(152),uc=function(e){for(var t=e.productsPerPage,a=e.totalProducts,c=e.paginate,l=[],o=Object(r.useState)(1),u=Object(Pr.a)(o,2),s=u[0],i=u[1],m=function(e){l.push(n.a.createElement(oc.a.Item,{key:e,active:e===s,onClick:function(){i(e),c(e)}},e))},p=1;p<=Math.ceil(a/t);p++)m(p);return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(oc.a,{size:"lg"},l),n.a.createElement("br",null)))},sc=a(148),ic=function(e){var t=e.products;Object(Qa.k)();return n.a.createElement(n.a.Fragment,null,n.a.createElement(sc.a,null,t&&t.map((function(e){return n.a.createElement(sc.a.Item,null,n.a.createElement(u.Link,{to:"/product/".concat(e.product_id)},n.a.createElement("img",{className:"d-block w-100",src:e.image,alt:"First slide"})),n.a.createElement(sc.a.Caption,null,n.a.createElement("h3",null,"".concat(e.name," ($").concat(e.price,")"))))}))))},mc=a(88),pc=function(e){var t=e.title,a=e.description,r=e.keywords;return n.a.createElement(mc.a,null,n.a.createElement("title",null,t),n.a.createElement("meta",{name:"description",content:a}),n.a.createElement("meta",{name:"keyword",content:r}))};pc.defaultProps={title:"Welcome to Raboy's E-Shop",description:"We sell the products for cheap",keywords:"electronics, buy electronics, cheap electronics"};var dc=pc,Ec=function(){var e=Object(r.useState)(1),t=Object(Pr.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(5),s=Object(Pr.a)(l,2),i=s[0],m=(s[1],Object(o.b)()),p=Object(Qa.m)().keyword,d=Object(o.c)((function(e){return e.productList})),E=d.loading,f=d.error,h=d.products,b=Object(o.c)((function(e){return e.userLogin.userInfo})),g=Object(o.c)((function(e){return e.topProductFetch})).products,O=h.filter((function(e){return-1!==e.name.toLowerCase().indexOf(p)}));Object(r.useEffect)((function(){m(function(){var e=Object(nr.a)(rr.a.mark((function e(t,a){var r,n,c,l;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().userLogin.userInfo.token,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.prev=2,t({type:dn}),e.next=6,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/products/top",n);case 6:c=e.sent,l=c.data,t({type:En,payload:l.products}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t({type:fn,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),m(lc()),m(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:tc});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m(gn()),m(hn()),b&&m($n(b.user_id))}),[m,b,p]);var v=a*i,y=v-i,j=h.slice(y,v),S=Math.ceil(h.length/i);return n.a.createElement(n.a.Fragment,null,n.a.createElement(dc,null),g&&!p?n.a.createElement(ic,{products:g}):n.a.createElement(u.Link,{to:"/",className:"btn btn-dark"},"Go Back"),!p&&n.a.createElement("h1",null,"Featured Products"),E?n.a.createElement(vn,null):f?n.a.createElement(Sn,{variant:"danger"},f):0===h.length?n.a.createElement(Sn,null,"No Products found!"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ha.a,null,0!==O.length?O.map((function(e){return n.a.createElement(Va.a,{key:e.product_id,sm:12,md:6,lg:4,xl:3},n.a.createElement(Qr,{product:e}))})):j.map((function(e){return n.a.createElement(Va.a,{key:e.product_id,sm:12,md:6,lg:4,xl:3},n.a.createElement(Qr,{product:e}))}))),n.a.createElement(Ha.a,null,S>1?n.a.createElement(uc,{productsPerPage:i,totalProducts:h.length,paginate:function(e){return c(e)}}):null)))},fc=a(23),hc=a.n(fc),bc=a(144),gc=a(153),Oc=function(){var e=Object(r.useState)(1),t=Object(Pr.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(1),s=Object(Pr.a)(l,2),i=s[0],m=s[1],p=Object(r.useState)(""),d=Object(Pr.a)(p,2),E=d[0],f=d[1],h=Object(Qa.m)().id,b=Object(Qa.k)(),g=Object(o.b)(),O=Object(o.c)((function(e){return e.productDetails})),v=O.product,y=O.loading,j=O.error,S=Object(o.c)((function(e){return e.userLogin.userInfo})),_=Object(o.c)((function(e){return e.reviewsFetch})),I=(_.error,_.loading,_.reviews),C=_.error,k=(_.loading,Object(o.c)((function(e){return e.reviewsCreate}))),L=k.success,R=k.error,T=k.loading;Object(r.useEffect)((function(){var e;g((e=h,function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){var n,c;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Xn}),t.next=4,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/reviews/".concat(e));case 4:n=t.sent,c=n.data,a({type:Zn,payload:c.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ec,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}())),0===Object.keys(v).length&&g(bn(h))}),[g,h,v,L]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.Link,null,n.a.createElement(Fr.a,{onClick:function(){return b.goBack()}},"Go Back")," "),y?n.a.createElement(vn,null):j?n.a.createElement(Sn,{variant:"danger",msg:j}):n.a.createElement(n.a.Fragment,null,n.a.createElement(dc,{title:v.name}),n.a.createElement(Ha.a,{className:"mt-5"},n.a.createElement(Va.a,{md:6},n.a.createElement(bc.a,{src:v.image,alt:v.name,thumbnail:!0})),n.a.createElement(Va.a,{md:3},n.a.createElement(gc.a,{variant:"flush"},n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,v.name)),n.a.createElement(gc.a.Item,null,n.a.createElement(Jr,{value:v.rating,text:"".concat(v.num_reviews," Reviews")})),n.a.createElement(gc.a.Item,null,n.a.createElement("h5",null,"Price:",v.price)),n.a.createElement(gc.a.Item,null,"Description: ",v.description))),n.a.createElement(Va.a,null,n.a.createElement(gc.a,null,n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Price:"),n.a.createElement(Va.a,null,v.price))),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Status:"),n.a.createElement(Va.a,null,v.in_stock>0?"In Stock":"Out of Stock"))),v.in_stock>0&&n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Qty"),n.a.createElement(Va.a,null,n.a.createElement(Nr.a.Control,{as:"select",value:a,onChange:function(e){return c(e.target.value)}},Object(re.a)(Array(v.in_stock).keys()).map((function(e){return n.a.createElement("option",{key:e+1},e+1)})))))),n.a.createElement(gc.a.Item,null,n.a.createElement(Fr.a,{className:"btn-block",disabled:0===v.in_stock,onClick:function(){return b.push("/cart/".concat(h,"?qty=").concat(a)),void setTimeout((function(){b.push("/")}),1e3)}},"Add to Cart"))))),n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:6},n.a.createElement("h2",null,"Reviews"))),n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:6},T&&n.a.createElement(vn,null),n.a.createElement(gc.a,{variant:"flush"},I.map((function(e){return n.a.createElement(gc.a.Item,null,n.a.createElement("pre",null,e.username)," ",n.a.createElement(Jr,{value:e.rating,forReviews:!0}),n.a.createElement("p",null,"".concat(hc()(e.created_at).format("MMMM Do YYYY, h:mm:ss a"))),n.a.createElement("pre",null,e.comment))})),0===I.length&&n.a.createElement(Sn,null,n.a.createElement("h5",null,C)),n.a.createElement("h2",null,"WRITE A CUSTOMER REVIEW"),null!==S?n.a.createElement(gc.a.Item,null,R&&n.a.createElement(Sn,{variant:"danger"},R),L&&n.a.createElement(Sn,{variant:"success"},"Successfully Added Review"),n.a.createElement(Nr.a.Group,null,n.a.createElement(Nr.a.Label,null,"Rating"),n.a.createElement(Nr.a.Control,{as:"select",value:i,onChange:function(e){return m(Number(e.target.value))}},n.a.createElement("option",{value:1},"1 - Poor"),n.a.createElement("option",{value:2},"2 - Fair"),n.a.createElement("option",{value:3},"3 - Good"),n.a.createElement("option",{value:4},"4 - Very Good"),n.a.createElement("option",{value:5},"5 - Excellent"))),n.a.createElement(Nr.a.Group,{controlId:"comment"},n.a.createElement(Nr.a.Label,null,"Comment"),n.a.createElement(Nr.a.Control,{as:"textarea",rows:3,value:E,onChange:function(e){return f(e.target.value)},required:"required"})),n.a.createElement(Fr.a,{onClick:function(e){var t;e.preventDefault(),g((t={product_id:h,rating:i,comment:E},function(){var e=Object(nr.a)(rr.a.mark((function e(a,r){var n,c,l,o,u;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.product_id,c=t.rating,l=t.comment,o=r().userLogin.userInfo.token,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}},e.prev=3,a({type:ac}),e.next=7,lr.a.post("https://raboy-eshop.herokuapp.com/api/v1/reviews/".concat(n),{product_id:n,rating:c,comment:l},u);case 7:a({type:rc}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a({type:nc,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}())),m(""),f(""),g(lc())}},"Submit")):n.a.createElement(Sn,null,"Please ",n.a.createElement(u.Link,{to:"/login"},"sign in")," to write a review"))))))},vc=a(91),yc=ne,jc=ce,Sc=le,_c=oe,Ic=ue,Cc=function(e,t){return function(){var a=Object(nr.a)(rr.a.mark((function a(r,n){var c,l;return rr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/products/".concat(e));case 3:c=a.sent,l=c.data,r({type:yc,payload:{product:l.product_id,image:l.image,name:l.name,price:l.price,in_stock:l.in_stock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},kc=function(){var e=Object(Qa.m)().id,t=Object(Qa.l)(),a=Object(Qa.k)(),c=Object(o.b)(),l=Object(o.c)((function(e){return e.cart})).cartItems,s=t.search?Number(t.search.split("=")[1]):1;Object(r.useEffect)((function(){e&&s&&c(Cc(e,s))}),[c,e,s]);var i=function(e){c(function(e){return function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),a({type:jc,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:8},n.a.createElement("h1",null,"Shopping Cart"),0===l.length?n.a.createElement(Sn,null,"Your cart is empty ",n.a.createElement(u.Link,{to:"/"},"Go Back")):n.a.createElement(gc.a,{variant:"flush"},l.map((function(e){return n.a.createElement(gc.a.Item,{key:e.product},n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:2},n.a.createElement(bc.a,{src:e.image,atl:e.name,fluid:!0,rounded:!0})),n.a.createElement(Va.a,{md:3},n.a.createElement(u.Link,{to:"/product/".concat(e.product)},e.name)),n.a.createElement(Va.a,{md:2},e.price),n.a.createElement(Va.a,{md:2},n.a.createElement(Nr.a.Control,{as:"select",value:e.qty,onChange:function(t){return c(Cc(e.product,Number(t.target.value)))}},Object(re.a)(Array(e.in_stock).keys()).map((function(e){return n.a.createElement("option",{key:e+1},e+1)})))),n.a.createElement(Va.a,{md:2},n.a.createElement(Fr.a,{type:"button",variant:"light",onClick:function(){return i(e.product)}},n.a.createElement(vc.a,{size:"2em",color:"red"})))))})))),n.a.createElement(Va.a,{md:4},n.a.createElement(Yr.a,null,n.a.createElement(gc.a,{varian:"flush"},n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Subtotal (",l.reduce((function(e,t){return e+t.qty}),0),") items"),"$",l.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)),n.a.createElement(gc.a.Item,null,n.a.createElement(Fr.a,{type:"button",className:"btn-block",disabled:0===l.length,onClick:function(){a.push("/login?redirect=shipping")}},"Proceed To Checkout"))))))},Lc=function(e){var t=e.children;return n.a.createElement(Ja.a,null,n.a.createElement(Ha.a,{className:"justify-content-md-center"},n.a.createElement(Va.a,{xs:12,md:6},t)))},Rc=function(){var e=Object(Qa.l)(),t=Object(Qa.k)(),a=Object(o.b)(),c=Object(o.c)((function(e){return e.userLogin})),l=c.loading,s=c.error,i=c.userInfo,m=Object(r.useState)(""),p=Object(Pr.a)(m,2),d=p[0],E=p[1],f=Object(r.useState)(""),h=Object(Pr.a)(f,2),b=h[0],g=h[1],O=e.search?e.search.split("=")[1]:"/";Object(r.useEffect)((function(){i&&t.push(O)}),[t,i,O]);return n.a.createElement(Lc,null,n.a.createElement("h1",null,"Sign In"),s&&n.a.createElement(Sn,{variant:"danger"},s),l&&n.a.createElement(vn,null),n.a.createElement(Nr.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(){var a=Object(nr.a)(rr.a.mark((function a(r){var n,c,l;return rr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},a.prev=1,r({type:ur}),a.next=5,lr.a.post("https://raboy-eshop.herokuapp.com/api/v1/users/login",{username:e,password:t},n);case 5:c=a.sent,l=c.data,r({type:sr,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r({type:ir,payload:a.t0.response&&a.t0.response.data.error.message?a.t0.response.data.error.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(d,b))}},n.a.createElement(Nr.a.Group,{controlId:"username"},n.a.createElement(Nr.a.Label,null,"Username"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Username",value:d,onChange:function(e){return E(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"password"},n.a.createElement(Nr.a.Label,null,"Password"),n.a.createElement(Nr.a.Control,{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return g(e.target.value)}})),n.a.createElement(Fr.a,{type:"submit",variance:"primary"},"Sign In")),n.a.createElement(Ha.a,{className:"py-3"},n.a.createElement(Va.a,null,"New Customer ? ",n.a.createElement(u.Link,{to:"/register"},"Register"))))},Tc=function(){var e=Object(Qa.l)(),t=Object(Qa.k)(),a=Object(o.b)(),c=Object(r.useState)(""),l=Object(Pr.a)(c,2),s=l[0],i=l[1],m=Object(r.useState)(""),p=Object(Pr.a)(m,2),d=p[0],E=p[1],f=Object(r.useState)(""),h=Object(Pr.a)(f,2),b=h[0],g=h[1],O=Object(r.useState)(""),v=Object(Pr.a)(O,2),y=v[0],j=v[1],S=Object(r.useState)(""),_=Object(Pr.a)(S,2),I=_[0],C=_[1],k=Object(r.useState)(""),L=Object(Pr.a)(k,2),R=L[0],T=L[1],w=Object(r.useState)(null),D=Object(Pr.a)(w,2),x=D[0],U=D[1],A=e.search?e.search.split("=")[1]:"/",P=Object(o.c)((function(e){return e.userRegister})),N=P.loading,F=P.error;return n.a.createElement(Lc,null,n.a.createElement("h1",null,"Sign Up"),x&&n.a.createElement(Sn,{variant:"danger"},x),F&&n.a.createElement(Sn,{variant:"danger"},F),N&&n.a.createElement(vn,null),n.a.createElement(Nr.a,{onSubmit:function(e){e.preventDefault(),I!==R?U("Passwords do not match"):(a(function(e,t,a,r,n){return function(){var c=Object(nr.a)(rr.a.mark((function c(l){var o,u,s,i;return rr.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o=or(),u={headers:{"Content-Type":"application/json"}},c.prev=2,l({type:pr}),c.next=6,lr.a.post("https://raboy-eshop.herokuapp.com/api/v1/users",{user_id:o,email:e,firstname:t,lastname:a,username:r,password:n},u);case 6:s=c.sent,i=s.data,l({type:dr,payload:i}),l({type:sr,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),l({type:Er,payload:c.t0.response&&c.t0.response.data.error.message?c.t0.response.data.error.message:c.t0.message});case 16:case"end":return c.stop()}}),c,null,[[2,13]])})));return function(e){return c.apply(this,arguments)}}()}(s,d,b,y,I)),t.push("/login"))}},n.a.createElement(Nr.a.Group,{controlId:"firstname"},n.a.createElement(Nr.a.Label,null,"Firstname"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Firstname",value:d,onChange:function(e){return E(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"lastname"},n.a.createElement(Nr.a.Label,null,"Lastname"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Lastname",value:b,onChange:function(e){return g(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"email"},n.a.createElement(Nr.a.Label,null,"Email"),n.a.createElement(Nr.a.Control,{type:"email",placeholder:"Enter Email",value:s,onChange:function(e){return i(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"username"},n.a.createElement(Nr.a.Label,null,"Username"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Username",value:y,onChange:function(e){return j(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"password"},n.a.createElement(Nr.a.Label,null,"Password"),n.a.createElement(Nr.a.Control,{type:"password",placeholder:"Enter Password",value:I,onChange:function(e){return C(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"confimPassword"},n.a.createElement(Nr.a.Label,null,"Confirm Password"),n.a.createElement(Nr.a.Control,{type:"password",placeholder:"Confirm Password",value:R,onChange:function(e){return T(e.target.value)}})),n.a.createElement(Fr.a,{type:"submit",variance:"primary"},"Register")),n.a.createElement(Ha.a,{className:"py-3"},n.a.createElement(Va.a,null,"Have an Account ?"," ",n.a.createElement(u.Link,{to:A?"/login?redirect=".concat(A):"/register"},"Login"))))},wc=a(145),Dc=a(28),xc=function(){var e=Object(Qa.k)(),t=Object(o.b)(),a=Object(r.useState)(""),c=Object(Pr.a)(a,2),l=c[0],u=c[1],s=Object(r.useState)(""),i=Object(Pr.a)(s,2),m=i[0],p=i[1],d=Object(r.useState)(""),E=Object(Pr.a)(d,2),f=E[0],h=E[1],b=Object(r.useState)(""),g=Object(Pr.a)(b,2),O=g[0],v=g[1],y=Object(r.useState)(""),j=Object(Pr.a)(y,2),S=j[0],_=j[1],I=Object(r.useState)(""),C=Object(Pr.a)(I,2),k=C[0],L=C[1],R=Object(r.useState)(null),T=Object(Pr.a)(R,2),w=T[0],D=T[1],x=Object(r.useState)("danger"),U=Object(Pr.a)(x,2),A=U[0],P=U[1],N=Object(o.c)((function(e){return e.userDetails})),F=N.loading,M=N.error,G=N.user,z=Object(o.c)((function(e){return e.userLogin.userInfo})),Y=Object(o.c)((function(e){return e.orderFetch})).orderItems,q=Object(o.c)((function(e){return e.orderDetails})),B=[];Object(r.useEffect)((function(){z||e.push("/login"),null===G||"{}"===JSON.stringify(G)?(t(Ur("profile")),t($n(z.user_id))):(p(G.firstname),h(G.lastname),u(G.email),v(G.username),t($n(z.user_id))),Y&&(Y.forEach((function(e){B.includes(e.order_id)||(B=[].concat(Object(re.a)(B),[e.order_id]))})),B.forEach((function(e){var a;t((a=e,function(){var e=Object(nr.a)(rr.a.mark((function e(t,r){var n,c,l,o,u,s,i,m;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().userLogin.userInfo,c=n.token,l=n.user_id,e.prev=1,t({type:Tn}),o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=6,lr.a.post("https://raboy-eshop.herokuapp.com/api/v1/orders/orderDetails",{user_id:l,order_id:a},o);case 6:u=e.sent,s=u.data,0===(i=localStorage.getItem("orderDetailsList")?JSON.parse(localStorage.getItem("orderDetailsList")):[]).length?i=[].concat(Object(re.a)(i),[s.rows]):(m=!1,i.forEach((function(e){e.order_id===s.rows.order_id&&(console.log(e.order_id,s.rows.order_id),m=!0)})),m||(i=[].concat(Object(re.a)(i),[s.rows]))),console.log("ORDERS ARRAY",i),t({type:wn,payload:i}),localStorage.setItem("orderDetailsList",JSON.stringify(i)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t({type:Dn,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}()))})))}),[t,e,z,G]);return n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:3},n.a.createElement("h2",null,"User Profile"),w&&n.a.createElement(Sn,{variant:A},w),M&&n.a.createElement(Sn,{variant:"danger"},M),F&&n.a.createElement(vn,null),n.a.createElement(Nr.a,{onSubmit:function(e){e.preventDefault(),S!==k?(P("danger"),D("Passwords do not match")):(t(function(e,t,a,r,n){return function(){var c=Object(nr.a)(rr.a.mark((function c(l,o){var u,s,i,m;return rr.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return u=o().userLogin.userInfo.token,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}},c.prev=2,l({type:hr}),c.next=6,lr.a.put("https://raboy-eshop.herokuapp.com/api/v1/users/profile",{email:e,firstname:t,lastname:a,username:r,password:n},s);case 6:i=c.sent,m=i.data,l({type:br,payload:m}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(2),l({type:gr,payload:c.t0.response&&c.t0.response.data.error.message?c.t0.response.data.error.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[2,11]])})));return function(e,t){return c.apply(this,arguments)}}()}(l,m,f,O,S)),P("success"),D("Profile Updated"),_(""),L(""))}},n.a.createElement(Nr.a.Group,{controlId:"firstname"},n.a.createElement(Nr.a.Label,null,"Firstname"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Firstname",value:m,onChange:function(e){return p(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"lastname"},n.a.createElement(Nr.a.Label,null,"Lastname"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Lastname",value:f,onChange:function(e){return h(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"email"},n.a.createElement(Nr.a.Label,null,"Email"),n.a.createElement(Nr.a.Control,{type:"email",placeholder:"Enter Email",value:l,onChange:function(e){return u(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"username"},n.a.createElement(Nr.a.Label,null,"Username"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Username",value:O,onChange:function(e){return v(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"password"},n.a.createElement(Nr.a.Label,null,"Password"),n.a.createElement(Nr.a.Control,{type:"password",placeholder:"Enter Password",value:S,onChange:function(e){return _(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"confimPassword"},n.a.createElement(Nr.a.Label,null,"Confirm Password"),n.a.createElement(Nr.a.Control,{type:"password",placeholder:"Confirm Password",value:k,onChange:function(e){return L(e.target.value)}})),n.a.createElement(Fr.a,{className:"btn-block",type:"submit",variance:"primary"},"Update"))),n.a.createElement(Va.a,{md:9},n.a.createElement("h2",null,"My Orders"),n.a.createElement(wc.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ORDER CODE"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"total"),n.a.createElement("th",null,"Paid"),n.a.createElement("th",null,"Delivered"),n.a.createElement("th",null,"information"))),n.a.createElement("tbody",null,q.loading&&n.a.createElement(vn,null),q.orderDetailsList?q.orderDetailsList.map((function(e){return n.a.createElement("tr",{key:e.order_id},n.a.createElement("td",null,e.order_id),n.a.createElement("td",null,hc()(e.created_at).format("MMM Do YYYY, h:mm:ss A")),n.a.createElement("td",null,Number(e.subtotal)),n.a.createElement("td",null,null===e.paid_at?n.a.createElement(Dc.a,{size:"2em"}):hc()(e.paid_at).format("MMM Do YYYY")),n.a.createElement("td",null,null===e.delivered_at?n.a.createElement(Dc.a,{size:"2em"}):hc()(e.delivered_at).format("MMM Do YYYY, h:mm:ss A")),n.a.createElement("td",null,n.a.createElement(tr.LinkContainer,{to:"/order/".concat(e.order_id)},n.a.createElement(Fr.a,{className:"btn-sm",type:"submit",variant:"dark",onClick:function(){t(Kn(e.order_id))}},"details"))))})):n.a.createElement("h2",null,"No Orders found!")))))},Uc=function(e){var t=e.step1,a=e.step2,r=e.step3,c=e.step4;return n.a.createElement(Ka.a,{className:"justify-content-center mb-4"},n.a.createElement(Ka.a.Item,null,t?n.a.createElement(tr.LinkContainer,{to:"/login"},n.a.createElement(Ka.a.Link,null,"Sign In")):n.a.createElement(Ka.a.Link,{disabled:!0},"Sign In")),n.a.createElement(Ka.a.Item,null,a?n.a.createElement(tr.LinkContainer,{to:"/shipping"},n.a.createElement(Ka.a.Link,null,"Shipping")):n.a.createElement(Ka.a.Link,{disabled:!0},"Shipping")),n.a.createElement(Ka.a.Item,null,r?n.a.createElement(tr.LinkContainer,{to:"/payment"},n.a.createElement(Ka.a.Link,null,"Payment Method")):n.a.createElement(Ka.a.Link,{disabled:!0},"Payment Method")),n.a.createElement(Ka.a.Item,null,c?n.a.createElement(tr.LinkContainer,{to:"/placeorder"},n.a.createElement(Ka.a.Link,null,"Place Order")):n.a.createElement(Ka.a.Link,{disabled:!0},"Place Order")))},Ac=function(){var e=Object(o.c)((function(e){return e.cart})).shippingAddress,t=Object(o.b)(),a=Object(Qa.k)(),c=Object(r.useState)(e.address),l=Object(Pr.a)(c,2),u=l[0],s=l[1],i=Object(r.useState)(e.city),m=Object(Pr.a)(i,2),p=m[0],d=m[1],E=Object(r.useState)(e.postalCode),f=Object(Pr.a)(E,2),h=f[0],b=f[1],g=Object(r.useState)(e.country),O=Object(Pr.a)(g,2),v=O[0],y=O[1];return n.a.createElement("div",null,n.a.createElement(Uc,{step1:!0,step2:!0}),n.a.createElement(Lc,null,n.a.createElement("h1",null,"Shipping"),n.a.createElement(Nr.a,{onSubmit:function(e){var r;e.preventDefault(),t((r={address:u,city:p,postalCode:h,country:v},function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Sc,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a.push("/payment")}},n.a.createElement(Nr.a.Group,{controlId:"address"},n.a.createElement(Nr.a.Label,null,"Address"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Address",value:u,onChange:function(e){return s(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"city"},n.a.createElement(Nr.a.Label,null,"City"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter City",value:p,onChange:function(e){return d(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"postalCode"},n.a.createElement(Nr.a.Label,null,"Postal Code"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Postal Code",value:h,onChange:function(e){return b(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"country"},n.a.createElement(Nr.a.Label,null,"Country"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Country",value:v,onChange:function(e){return y(e.target.value)},required:!0})),n.a.createElement(Fr.a,{type:"submit",variance:"primary"},"Continue"))))},Pc=function(){var e=Object(o.c)((function(e){return e.cart})).shippingAddress,t=Object(o.b)(),a=Object(Qa.k)(),c=Object(r.useState)("PayPal"),l=Object(Pr.a)(c,2),u=l[0],s=l[1];e||a.push("/shipping");return n.a.createElement("div",null,n.a.createElement(Uc,{step1:!0,step2:!0,step3:!0}),n.a.createElement(Lc,null,n.a.createElement("h1",null,"Payment Method"),n.a.createElement(Nr.a,{onSubmit:function(e){var r;e.preventDefault(),t((r=u,function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:_c,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a.push("/placeorder")}},n.a.createElement(Nr.a.Group,null,n.a.createElement(Nr.a.Label,{as:"legend"},"Select Method"),n.a.createElement(Va.a,null,n.a.createElement(Nr.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return s(e.target.value)}}),n.a.createElement(Nr.a.Check,{type:"radio",label:"Stripe",id:"Stripe",name:"paymentMethod",value:"Stripe",onChange:function(e){return s(e.target.value)}}))),n.a.createElement(Fr.a,{type:"submit",variance:"primary"},"Continue"))))},Nc=a(65),Fc=function(){var e=Object(Qa.k)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.cart})),r=a.cartItems,c=a.shippingAddress,l=a.paymentMethod,s=Object(o.c)((function(e){return e.userLogin})).userInfo,i=s.user_id,m=s.email,p=function(e){return(Math.round(100*e)/100).toFixed(2)},d=p(r.reduce((function(e,t){return e+parseInt(t.price)*t.qty}),0)),E=p(d>100?0:100),f=p(Number((.15*d).toFixed(2))),h=(Number(d)+Number(E)+Number(f)).toFixed(2);return n.a.createElement(n.a.Fragment,null,n.a.createElement(Uc,{step1:!0,step2:!0,step3:!0,step4:!0}),n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:8},n.a.createElement(gc.a,{variant:"flush"},n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Shipping"),n.a.createElement("p",null,n.a.createElement("strong",null,"Address:"),c.address,",",c.city," ",c.postalCode," ",c.country)),n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Payment Method"),n.a.createElement("strong",null,"Method:"),l),n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Order List"),0===r.length?n.a.createElement(Sn,null,"Your cart is empty"):n.a.createElement(gc.a,{variant:"flush"},r.map((function(e){return n.a.createElement(gc.a.Item,{key:e.product},n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:2},n.a.createElement(bc.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(Va.a,null,n.a.createElement(u.Link,{to:"/product/<FaDollarSign />{item.product}"},e.name)),n.a.createElement(Va.a,{md:4},e.qty," x ",n.a.createElement(er.a,null),e.price," = ",n.a.createElement(er.a,null),e.qty*e.price)))})))))),n.a.createElement(Va.a,{md:4},n.a.createElement(Yr.a,null,n.a.createElement(gc.a,{variant:"flush"},n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Order Summary")),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Items"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),d))),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Shipping"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),E))),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Tax"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),f))),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Total"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),h))),n.a.createElement(gc.a.Item,null,n.a.createElement(Fr.a,{type:"button",className:"btn-block",disabled:0===r.lenght,onClick:function(a){a.preventDefault();var n=Object(Nc.uuid)();r.map((function(e){return{order_id:n,product_id:e.product,user_id:i,quantity:e.qty,payment_method:l,payment_email_address:m}})).forEach((function(e){var a;t((a={order_id:e.order_id,product_id:e.product_id,user_id:e.user_id,quantity:e.quantity,payment_method:e.payment_method,payment_email_address:e.payment_email_address,shipping_address:c.address,shipping_city:c.city,shipping_postal_code:c.postalCode,shipping_country:c.country},function(){var e=Object(nr.a)(rr.a.mark((function e(t,r){var n,c,l,o;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().userLogin.userInfo.token,e.prev=1,t({type:_n}),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,lr.a.post("https://raboy-eshop.herokuapp.com/api/v1/orders",a,c);case 6:l=e.sent,o=l.data,t({type:In,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:Cn,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()))})),t(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ic,payload:{}}),localStorage.removeItem("cartItems");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.push("/")}},"Place Order")))))))},Mc=a(92),Gc=function(){var e=Wt,t=Object(r.useState)(!1),a=Object(Pr.a)(t,2),c=a[0],l=a[1],s=Object(Qa.k)(),i=Object(o.b)(),m=Object(Qa.m)().id,p=Object(o.c)((function(e){return e.userLogin})).userInfo,d=p.user_id,E=p.email,f=p.isAdmin,h=Object(o.c)((function(e){return e.orderedItems})),b=h.orders,g=h.shippingDetails,O=h.loading,v=h.error,y=Object(o.c)((function(e){return e.orderPay})),j=y.loading,S=y.success,_=Object(o.c)((function(e){return e.orderDeliver})),I=_.loading,C=_.success,k=_.error,L=function(e){return(Math.round(100*e)/100).toFixed(2)},R=L(b.reduce((function(e,t){return e+parseInt(t.price)*t.quantity}),0)),T=L(R>100?0:100),w=L(Number((.15*R).toFixed(2))),D=(Number(R)+Number(T)+Number(w)).toFixed(2);Object(r.useEffect)((function(){E||s.push("/login"),i(gn());var t=function(){var e=Object(nr.a)(rr.a.mark((function e(){var t,a,r;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr.a.get("http://localhost:5000/api/v1/config/paypal");case 2:t=e.sent,a=t.data,(r=document.createElement("script")).type="text/javascript",r.async=!0,r.src="https://www.paypal.com/sdk/js?client-id=".concat(a),r.onload=function(){l(!0)},document.body.appendChild(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===b.length||S||C?(i({type:e}),i(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Wn});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(Kn(m))):g.is_paid||(window.paypal?l(!0):t())}),[i,m,b,g.is_paid,S,C,e,E,s,d]);return n.a.createElement(n.a.Fragment,null,I&&n.a.createElement(vn,null),k&&n.a.createElement(Sn,{variant:"danger"},k),v?n.a.createElement(Sn,{variant:"danger"},"".concat(v)):O?n.a.createElement(vn,null):n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:8},n.a.createElement(Sn,{variant:"info"},n.a.createElement("h5",null,"ORDER ",m)),n.a.createElement(gc.a,{variant:"flush"},n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Shipping"),n.a.createElement("p",null,n.a.createElement("strong",null,"Name:"),g.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:"),n.a.createElement("a",{href:"mailto:".concat(g.payment_email_address)},"shippingDetails.payment_email_address")),n.a.createElement("p",null,n.a.createElement("strong",null,"Address:"),g.address,",",g.city," ",g.postalCode," ",g.country),g.is_delivered?n.a.createElement(Sn,{variant:"success"},"Delivered on ".concat(hc()(g.delivered_at).format("MMMM Do YYYY, h:mm:ss A")," - (").concat(hc()().startOf("hour").fromNow(),")")):n.a.createElement(Sn,{variant:"danger"},"Not Delivered")),n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Payment Method"),n.a.createElement("strong",null,"Method:"),g.payment_method,g.is_paid?n.a.createElement(Sn,{variant:"success"},"Paid on ".concat(hc()(g.paid_at).format("MMMM Do YYYY, h:mm:ss A")," - (").concat(hc()().startOf("hour").fromNow(),")")):n.a.createElement(Sn,{variant:"danger"},"Not Paid")),n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Order List"),0===b.length?n.a.createElement(Sn,null,"No items found!"):n.a.createElement(gc.a,{variant:"flush"},b.map((function(e){return n.a.createElement(gc.a.Item,{key:e.product},n.a.createElement(Ha.a,null,n.a.createElement(Va.a,{md:1},n.a.createElement(bc.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(Va.a,null,n.a.createElement(u.Link,{to:"/product/".concat(e.product_id)},e.name)),n.a.createElement(Va.a,{md:4},e.quantity," x ",n.a.createElement(er.a,null),e.price," = ",n.a.createElement(er.a,null),e.quantity*e.price)))})))))),n.a.createElement(Va.a,{md:4},n.a.createElement(Yr.a,null,n.a.createElement(gc.a,{variant:"flush"},n.a.createElement(gc.a.Item,null,n.a.createElement("h2",null,"Order Summary")),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Subtotal"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),R))),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Shipping"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),T))),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Tax"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),w))),n.a.createElement(gc.a.Item,null,n.a.createElement(Ha.a,null,n.a.createElement(Va.a,null,"Total"),n.a.createElement(Va.a,null,n.a.createElement(er.a,null),D))),!g.is_paid&&n.a.createElement(gc.a.Item,null,j&&n.a.createElement(vn,null),c?n.a.createElement(Mc.PayPalButton,{amount:D,onSuccess:function(e){i(function(e,t){return function(){var a=Object(nr.a)(rr.a.mark((function a(r,n){var c,l,o,u;return rr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n().userLogin.userInfo.token,console.log(c),a.prev=2,r({type:Pn}),l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},a.next=7,lr.a.put("https://raboy-eshop.herokuapp.com/api/v1/orders/".concat(e,"/pay"),t,l);case 7:o=a.sent,u=o.data,r({type:Nn,payload:u}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),r({type:Fn,payload:a.t0.response&&a.t0.response.data.error.message?a.t0.response.data.error.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e,t){return a.apply(this,arguments)}}()}(g.order_id,e)),localStorage.removeItem("orderDetailsList")}}):n.a.createElement(vn,null)),p&&f&&g.is_paid&&!g.is_delivered?n.a.createElement(gc.a.Item,null,n.a.createElement(Fr.a,{className:"btn btn-block",onClick:function(){return i((e=m,function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){var n,c;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.prev=2,a({type:Qn}),t.next=6,lr.a.put("https://raboy-eshop.herokuapp.com/api/v1/orders/".concat(e,"/deliver"),{},c);case 6:a({type:Hn}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a({type:Vn,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}()));var e}},"Mark as Delivered")):null)))))},zc=a(46),Yc=function(){var e=Object(o.b)(),t=Object(Qa.k)(),a=Object(o.c)((function(e){return e.usersList})),c=a.users,l=a.loading,s=a.error,i=Object(o.c)((function(e){return e.userLogin})).userInfo,m=Object(o.c)((function(e){return e.userDelete})),p=(m.loading,m.error),d=m.success;Object(r.useEffect)((function(){e(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:xr});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i&&i.isAdmin?e(function(){var e=Object(nr.a)(rr.a.mark((function e(t,a){var r,n,c,l;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().userLogin.userInfo.token,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.prev=2,t({type:vr}),e.next=6,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/users",n);case 6:c=e.sent,l=c.data,t({type:yr,payload:l}),localStorage.setItem("usersList",JSON.stringify(l)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:jr,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[e,t,i,d]);var E=function(t){e(function(e){return function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){var n,c;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.prev=2,a({type:Sr}),t.next=6,lr.a.delete("https://raboy-eshop.herokuapp.com/api/v1/users/".concat(e),c);case 6:a({type:_r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a({type:Ir,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))};return n.a.createElement("div",null,n.a.createElement("h1",null,"Users"),p?n.a.createElement(Sn,{variant:"danger"},p):null,d&&n.a.createElement(Sn,{variant:"success"},"Successfully deleted user"),l?n.a.createElement(vn,null):s?n.a.createElement(Sn,{variant:"danger"},s):n.a.createElement(wc.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"USER ID"),n.a.createElement("th",null,"First Name"),n.a.createElement("th",null,"Last Name"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Active"),n.a.createElement("th",null,"Admin"),n.a.createElement("th",{colSpan:"2",className:"text-center"},"Actions"))),n.a.createElement("tbody",null,null!==c&&0!==c.length&&c.map((function(t){return n.a.createElement("tr",{key:t.user_id},n.a.createElement("td",null,t.user_id),n.a.createElement("td",null,t.firstname),n.a.createElement("td",null,t.lastname),n.a.createElement("td",null,n.a.createElement("a",{href:"mailto:".concat(t.email)},t.email)),n.a.createElement("td",null,t.is_active?n.a.createElement(Dc.b,{size:"2em"}):n.a.createElement(Dc.a,{size:"2em"})),n.a.createElement("td",null,t.is_admin?n.a.createElement(Dc.b,{size:"2em"}):n.a.createElement(Dc.a,{size:"2em"})),n.a.createElement("td",null,n.a.createElement(u.Link,{to:"/admin/users/".concat(t.user_id,"/edit")},n.a.createElement(Fr.a,{variant:"light",className:"btn-sm",onClick:function(){return e(Ar(t.user_id))}},n.a.createElement(er.b,{size:"3em",color:"blue"}),"Edit"))),n.a.createElement("td",null,n.a.createElement(Fr.a,{variant:"light",className:"btn-sm",onClick:function(){return E(t.user_id)}},n.a.createElement(zc.b,{size:"3em",color:"red"}),"Delete")))})))))},qc=rt,Bc=function(){var e=Object(Qa.k)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.userUpdate.userToUpdate})),c=a.firstname,l=a.lastname,u=a.username,s=a.email,i=a.is_admin,m=a.loading,p=Object(o.c)((function(e){return e.updatedUser})),d=p.success,E=p.loading,f=Object(Qa.m)().id,h=Object(r.useState)(""),b=Object(Pr.a)(h,2),g=b[0],O=b[1],v=Object(r.useState)(""),y=Object(Pr.a)(v,2),j=y[0],S=y[1],_=Object(r.useState)(""),I=Object(Pr.a)(_,2),C=I[0],k=I[1],L=Object(r.useState)(""),R=Object(Pr.a)(L,2),T=R[0],w=R[1],D=Object(r.useState)(!1),x=Object(Pr.a)(D,2),U=x[0],A=x[1];Object(r.useEffect)((function(){d&&e.push("/admin/usersList"),c?(S(c),k(l),w(u),O(s),A(i)):t(Ar(f))}),[t,f,c,l,u,s,i,d,e]);var P=function(e){var a;e.preventDefault(),t((a={user_id:f,firstname:j,lastname:C,username:T,email:g,is_admin:U},function(){var e=Object(nr.a)(rr.a.mark((function e(t,r){var n,c,l,o;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=2,t({type:Tr}),e.next=6,lr.a.put("https://raboy-eshop.herokuapp.com/api/v1/users/".concat(a.user_id),a,c);case 6:l=e.sent,o=l.data,t({type:wr}),t({type:kr,payload:o}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:Dr,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()))};return n.a.createElement(n.a.Fragment,null,d?n.a.createElement(Sn,{variant:"success"},"Successfully Updated"):null,n.a.createElement(tr.LinkContainer,{to:"/admin/usersList"},n.a.createElement(Fr.a,{className:"btn-sm",onClick:function(){t({type:qc}),t(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Rr});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Go Back")),E?n.a.createElement(vn,null):null,m?n.a.createElement(vn,null):n.a.createElement(Lc,null,n.a.createElement("h1",null,"Update User Account"),n.a.createElement(Nr.a,null,n.a.createElement(Nr.a.Group,{controlId:"userId"},n.a.createElement(Nr.a.Label,null,"User ID"),n.a.createElement(Nr.a.Control,{type:"text",value:f,disabled:!0})),n.a.createElement(Nr.a.Group,{controlId:"firstname"},n.a.createElement(Nr.a.Label,null,"Firstname"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Firstname",value:j,onChange:function(e){return S(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"lastname"},n.a.createElement(Nr.a.Label,null,"Lastname"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Lastname",value:C,onChange:function(e){return k(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"email"},n.a.createElement(Nr.a.Label,null,"Email"),n.a.createElement(Nr.a.Control,{type:"email",placeholder:"Enter Email",value:g,onChange:function(e){return O(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"username"},n.a.createElement(Nr.a.Label,null,"Username"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Username",value:T,onChange:function(e){return w(e.target.value)},required:!0})),n.a.createElement(Nr.a.Group,{controlId:"username"},n.a.createElement(Nr.a.Check,{type:"checkbox",id:"customControlAutosizing",label:"is Admin",checked:U,onChange:function(e){return A(e.target.checked)},custom:!0})),n.a.createElement(Fr.a,{type:"submit",variance:"primary",onClick:function(e){return P(e)}},"Update"))))},Jc=function(){var e=Object(o.b)(),t=Object(Qa.k)(),a=Object(o.c)((function(e){return e.productList})).products,c=Object(o.c)((function(e){return e.productDelete})),l=c.success,s=c.loading,i=c.error,m=Object(o.c)((function(e){return e.userLogin})).userInfo,p=Object(o.c)((function(e){return e.productCreate})),d=p.success,E=p.loading,f=p.error,h=p.product;return Object(r.useEffect)((function(){e(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:on});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(gn()),m.isAdmin||t.push("/login"),d?t.push("/admin/product/".concat(h.product_id,"/edit")):e(hn())}),[e,l,d,m,t,h]),n.a.createElement(n.a.Fragment,null,n.a.createElement(Ha.a,{className:"align-items-center"},n.a.createElement(Va.a,null,n.a.createElement("h1",null,"Products")),n.a.createElement(Va.a,{className:"text-right"},n.a.createElement(Fr.a,{className:"btn-sm",onClick:function(){e(function(){var e=Object(nr.a)(rr.a.mark((function e(t,a){var r,n,c,l;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().userLogin.userInfo.token,console.log("TOKIN",r),n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},e.prev=3,t({type:nn}),e.next=7,lr.a.post("https://raboy-eshop.herokuapp.com/api/v1/products",{},n);case 7:c=e.sent,l=c.data,t({type:cn,payload:l.rows[0]}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:ln,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}())}},n.a.createElement(zc.a,{size:"3em",style:{marginRight:"5px"}}),"Create Product"))),s&&n.a.createElement(vn,null),E&&n.a.createElement(vn,null),i&&n.a.createElement(Sn,{variant:"danger"},i),f&&n.a.createElement(Sn,{variant:"danger"},f),n.a.createElement(wc.a,{bordered:!0,hover:!0,responsive:!0,className:"mt-2 table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Category"),n.a.createElement("th",null,"Brand"),n.a.createElement("th",{colSpan:"2",className:"text-center"},"Actions"))),n.a.createElement("tbody",null,a.length?a.map((function(a){return n.a.createElement("tr",null,n.a.createElement("td",null,a.product_id),n.a.createElement("td",null,n.a.createElement(u.Link,{to:"/product/".concat(a.product_id)},a.name)),n.a.createElement("td",null,a.price),n.a.createElement("td",null,a.category),n.a.createElement("td",null,a.brand),n.a.createElement("td",null,n.a.createElement(Fr.a,{variant:"light",className:"btn-sm",onClick:function(){t.push("/admin/product/".concat(a.product_id,"/edit"))}},n.a.createElement(er.b,{size:"2em",color:"blue"}),"Edit")),n.a.createElement("td",null,n.a.createElement(Fr.a,{variant:"light",className:"btn-sm",onClick:function(){var t;e((t=a.product_id,function(){var e=Object(nr.a)(rr.a.mark((function e(a,r){var n,c;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=2,a({type:en}),e.next=6,lr.a.delete("https://raboy-eshop.herokuapp.com/api/v1/products/".concat(t),c);case 6:a({type:tn}),a({type:rn}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a({type:an,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()))}},n.a.createElement(zc.b,{size:"2em",color:"red"}),"Delete")))})):n.a.createElement("h1",null,"No Products found!"))))},Qc=function(){var e=Object(Qa.k)(),t=Object(o.b)(),a=Object(Qa.m)().id,c=Object(r.useState)(""),l=Object(Pr.a)(c,2),s=l[0],i=l[1],m=Object(r.useState)(0),p=Object(Pr.a)(m,2),d=p[0],E=p[1],f=Object(r.useState)(""),h=Object(Pr.a)(f,2),b=h[0],g=h[1],O=Object(r.useState)(""),v=Object(Pr.a)(O,2),y=v[0],j=v[1],S=Object(r.useState)(""),_=Object(Pr.a)(S,2),I=_[0],C=_[1],k=Object(r.useState)(0),L=Object(Pr.a)(k,2),R=L[0],T=L[1],w=Object(r.useState)(""),D=Object(Pr.a)(w,2),x=D[0],U=D[1],A=Object(r.useState)(!1),P=Object(Pr.a)(A,2),N=P[0],F=P[1],M=Object(o.c)((function(e){return e.productDetails})),G=M.loading,z=M.error,Y=M.product,q=Object(o.c)((function(e){return e.productUpdate})),B=q.loading,J=q.error,Q=q.success;Object(r.useEffect)((function(){Q?(t(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:pn});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.push("/admin/productsList")):Y&&Y.product_id===a?(i(Y.name),E(Y.price),g(Y.image),j(Y.brand),C(Y.category),T(Y.in_stock),U(Y.description)):t(bn(a))}),[t,e,a,Y,Q]);var H=function(){var e=Object(nr.a)(rr.a.mark((function e(t){var a,r,n,c,l;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),F(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,lr.a.post("http://localhost:5000/api/v1/uploads",r,n);case 8:c=e.sent,l=c.data,g(l.Location),F(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),F(!1);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.Link,{to:"/admin/productsList",className:"btn btn-dark my-3"},"Go Back"),n.a.createElement(Lc,null,G&&n.a.createElement(vn,null),B&&n.a.createElement(vn,null),z&&n.a.createElement(Sn,{variant:"danger"},z),J&&n.a.createElement(Sn,{variant:"danger"},J),n.a.createElement("h1",null,"Product Edit Screen"),n.a.createElement(Nr.a,{onSubmit:function(e){e.preventDefault(),t(function(e){return function(){var t=Object(nr.a)(rr.a.mark((function t(a,r){var n,c,l,o;return rr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().userLogin.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t.prev=2,a({type:un}),t.next=6,lr.a.put("https://raboy-eshop.herokuapp.com/api/v1/products/".concat(e.product_id),e,c);case 6:l=t.sent,o=l.data,a({type:sn,payload:o.rows[0]}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a({type:mn,payload:t.t0.response&&t.t0.response.data.error.message?t.t0.response.data.error.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({name:s,image:b,brand:y,category:I,description:x,price:d,in_stock:R,product_id:a}))}},n.a.createElement(Nr.a.Group,{controlId:"name"},n.a.createElement(Nr.a.Label,null,"Name"),n.a.createElement(Nr.a.Control,{type:"name",placeholder:"Enter name",value:s,onChange:function(e){return i(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"brand"},n.a.createElement(Nr.a.Label,null,"Brand"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Brand",value:y,onChange:function(e){return j(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"category"},n.a.createElement(Nr.a.Label,null,"Category"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Category",value:I,onChange:function(e){return C(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"description"},n.a.createElement(Nr.a.Label,null,"Description"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Description",value:x,onChange:function(e){return U(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"price"},n.a.createElement(Nr.a.Label,null,"Price"),n.a.createElement(Nr.a.Control,{type:"number",placeholder:"Enter Price",value:d,onChange:function(e){return E(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"in_stock"},n.a.createElement(Nr.a.Label,null,"In Stock"),n.a.createElement(Nr.a.Control,{type:"number",placeholder:"Enter In Stock",value:R,onChange:function(e){return T(e.target.value)}})),n.a.createElement(Nr.a.Group,{controlId:"image"},n.a.createElement(Nr.a.Label,null,"Image Path"),n.a.createElement(Nr.a.Control,{type:"text",placeholder:"Enter Image URL",value:b,onChange:function(e){return g(e.target.value)}}),n.a.createElement(Nr.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:H}),N&&n.a.createElement(vn,null)),n.a.createElement(Fr.a,{type:"submit",variant:"primary",className:"btn btn-block"},"Update"))))},Hc=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.orderFetchDistinct})).distinctIds,a=Object(o.c)((function(e){return e.orderFetchOne})),c=a.allOrderList,l=a.loading,u=a.error,s=a.success,i=Object(o.c)((function(e){return e.userLogin})).userInfo.user_id;return Object(r.useEffect)((function(){e(function(){var e=Object(nr.a)(rr.a.mark((function e(t,a){var r,n,c,l;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().userLogin.userInfo.token,n={headers:{Authorization:"Bearer ".concat(r)}},e.prev=2,t({type:Mn}),e.next=6,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/orders/distinct",n);case 6:c=e.sent,l=c.data,t({type:Gn,payload:l.rows}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t({type:zn,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),e(Ur("profile"))}),[e,i]),Object(r.useEffect)((function(){s&&e(function(){var e=Object(nr.a)(rr.a.mark((function e(t){return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("allOrderList"),t({type:Jn});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),0!==t.length&&t.forEach((function(t){var a;e((a=t.order_id,function(){var e=Object(nr.a)(rr.a.mark((function e(t,r){var n,c,l,o,u,s;return rr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().userLogin.userInfo.token,c={headers:{Authorization:"Bearer ".concat(n)}},e.prev=2,t({type:Yn}),e.next=6,lr.a.get("https://raboy-eshop.herokuapp.com/api/v1/orders/".concat(a,"/orderDetails"),c);case 6:l=e.sent,o=l.data,0===(u=localStorage.getItem("allOrderList")?JSON.parse(localStorage.getItem("allOrderList")):[]).length?u=[].concat(Object(re.a)(u),[o.order]):(s=!1,u.forEach((function(e){e.order_id===o.order.order_id&&(console.log(e.order_id,o.order.order_id),s=!0)})),s||(u=[].concat(Object(re.a)(u),[o.order]))),t({type:qn,payload:u}),localStorage.setItem("allOrderList",JSON.stringify(u)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),t({type:Bn,payload:e.t0.response&&e.t0.response.data.error.message?e.t0.response.data.error.message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}()))}))}),[e,t]),n.a.createElement("div",null,n.a.createElement("h1",null,"Orders"),l&&n.a.createElement(vn,null),u&&n.a.createElement(Sn,{variant:"danger"},u),c?n.a.createElement(wc.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"USER"),n.a.createElement("th",null,"DATE"),n.a.createElement("th",null,"TOTAL"),n.a.createElement("th",null,"PAID"),n.a.createElement("th",null,"DELIVERED"),n.a.createElement("th",{colSpan:"2",className:"text-center"},"ACTIONS"))),n.a.createElement("tbody",null,c.map((function(t){return n.a.createElement("tr",null,n.a.createElement("td",null,t.order_id),n.a.createElement("td",null,t.name),n.a.createElement("td",null,"".concat(hc()(t.created_at).format("MMMM Do YYYY, h:mm:ss A")," - (").concat(hc()().startOf("hour").fromNow(),")")),n.a.createElement("td",null,t.subtotal),n.a.createElement("td",null,t.is_paid?n.a.createElement(Dc.b,{size:"2em"}):n.a.createElement(Dc.c,{size:"2em"})),n.a.createElement("td",null,t.is_delivered?n.a.createElement(Dc.b,{size:"2em"}):n.a.createElement(Dc.c,{size:"2em"})),n.a.createElement("td",null,n.a.createElement(tr.LinkContainer,{to:"/order/".concat(t.order_id)},n.a.createElement(Fr.a,{onClick:function(){e(Kn(t.order_id))}},"Details"))))})))):n.a.createElement(Sn,{variant:"danger"},"'No Orders Found!'"))},Vc=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(zr,null),n.a.createElement("main",{className:"py-3"},n.a.createElement(Ja.a,null,n.a.createElement(Qa.g,null,n.a.createElement(Qa.d,{path:"/",component:Ec,exact:!0}),n.a.createElement(Qa.d,{path:"/login",component:Rc,exact:!0}),n.a.createElement(Qa.d,{path:"/order/:id",component:Gc,exact:!0}),n.a.createElement(Qa.d,{path:"/shipping",component:Ac,exact:!0}),n.a.createElement(Qa.d,{path:"/payment",component:Pc,exact:!0}),n.a.createElement(Qa.d,{path:"/placeorder",component:Fc,exact:!0}),n.a.createElement(Qa.d,{path:"/register",component:Tc,exact:!0}),n.a.createElement(Qa.d,{path:"/profile",component:xc,exact:!0}),n.a.createElement(Qa.d,{path:"/admin/usersList",component:Yc,exact:!0}),n.a.createElement(Qa.d,{path:"/admin/ordersList",component:Hc,exact:!0}),n.a.createElement(Qa.d,{path:"/admin/productsList",component:Jc,exact:!0}),n.a.createElement(Qa.d,{path:"/admin/users/:id/edit",component:Bc,exact:!0}),n.a.createElement(Qa.d,{path:"/admin/product/:id/edit",component:Qc,exact:!0}),n.a.createElement(Qa.d,{path:"/product/:id",component:Oc,exact:!0}),n.a.createElement(Qa.d,{path:"/cart/:id?",component:kc,exact:!0}),n.a.createElement(Qa.d,{path:"/search/:keyword",component:Ec,exact:!0})))),n.a.createElement(Wa,null))};l.a.render(n.a.createElement(o.a,{store:Ba},n.a.createElement(u.BrowserRouter,null,n.a.createElement(Vc,null))),document.getElementById("root"))},97:function(e,t,a){e.exports=a(133)}},[[97,1,2]]]);
//# sourceMappingURL=main.82e90d1f.chunk.js.map